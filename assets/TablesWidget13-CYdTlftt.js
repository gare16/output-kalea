import{r as h,j as e,K as x,V as y}from"./index-ByLk8s-j.js";import{u as $,c as W}from"./ThemeProvider-DRjQDZAD.js";import{F as G}from"./FormCheckInput-DWF_ryow.js";const E=h.createContext(null);E.displayName="InputGroupContext";const k=h.forwardRef(({className:i,bsPrefix:a,as:r="span",...p},d)=>(a=$(a,"input-group-text"),e.jsx(r,{ref:d,className:W(i,a),...p})));k.displayName="InputGroupText";const z=i=>e.jsx(k,{children:e.jsx(G,{type:"checkbox",...i})}),B=i=>e.jsx(k,{children:e.jsx(G,{type:"radio",...i})}),D=h.forwardRef(({bsPrefix:i,size:a,hasValidation:r,className:p,as:d="div",...o},m)=>{i=$(i,"input-group");const t=h.useMemo(()=>({}),[]);return e.jsx(E.Provider,{value:t,children:e.jsx(d,{ref:m,...o,className:W(p,i,a&&`${i}-${a}`,r&&"has-validation")})})});D.displayName="InputGroup";const v=Object.assign(D,{Text:k,Radio:B,Checkbox:z}),J=({children:i,currentPage:a,totalPages:r,onPageChange:p,className:d=""})=>{const o=t=>{t>=1&&t<=r&&t!==a&&p(t)},m=()=>{const t=[];let u=Math.max(1,a-Math.floor(2.5)),j=Math.min(r,u+5-1);j-u+1<5&&(u=Math.max(1,j-5+1));for(let n=u;n<=j;n++)t.push(e.jsx("li",{className:`page-item ${n===a?"active":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:N=>{N.preventDefault(),o(n)},children:n})},n));return t};return e.jsxs("div",{className:`d-flex flex-stack flex-wrap pt-5 mx-10 ${d}`,children:[e.jsx("div",{className:"fs-6 fw-bold text-gray-700",children:i}),e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),o(a-1)},children:e.jsx("i",{className:"previous"})})}),m(),e.jsx("li",{className:`page-item ${a===r?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),o(a+1)},children:e.jsx("i",{className:"next"})})})]})]})},Z=({className:i,rows:a,columns:r,labelAdd:p,filters:d=[],onDelete:o,onEdit:m,onPrint:t,onUpload:C,onAdd:u,onRowClick:j,roleAccess:n={add:["ADMIN","OWNER","WAREHOUSE"],edit:["ADMIN","OWNER","WAREHOUSE"],print:["ADMIN","OWNER","ADMIN PRODUKSI"],upload:["ADMIN","OWNER","WAREHOUSE"]}})=>{const[N,F]=h.useState(10),[R,b]=h.useState(1),[I,w]=h.useState(""),[P,M]=h.useState(""),[O,K]=h.useState({}),f=a.filter(s=>{const l=!I||Object.values(s).some(g=>String(g).toLowerCase().includes(I.toLowerCase())),c=d.every(g=>{const V=O[g.key];return!V||String(s[g.key])===V});return l&&c}),U=Math.ceil(f.length/N),S=(R-1)*N,T=S+N,A=f.slice(S,T),H=d.reduce((s,l)=>(s[l.key]=l.options||Array.from(new Set(a.map(c=>String(c[l.key])))),s),{}),L=s=>{b(s)},q=s=>{F(Number(s.target.value)),b(1)};return e.jsxs("div",{className:`card ${i}`,children:[e.jsxs("div",{className:"d-flex justify-content-center gap-3 mx-10 my-5",children:[e.jsxs(v,{size:"sm",children:[e.jsx(v.Text,{children:e.jsx(x,{iconName:"magnifier",className:"fs-3"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:P,onChange:s=>M(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(w(P),b(1))}}),I&&e.jsx("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>{M(""),w(""),b(1)},children:e.jsx(x,{iconName:"cross",className:"fs-3"})})]}),d.map(s=>e.jsxs(v,{size:"sm",style:{maxWidth:"300px"},children:[e.jsx(v.Text,{children:e.jsx(x,{iconName:"filter",className:"fs-3"})}),e.jsxs("select",{className:"form-select",value:O[s.key]||"",onChange:l=>{K(c=>({...c,[s.key]:l.target.value})),b(1)},children:[e.jsx("option",{value:"",children:s.label}),H[s.key].map(l=>e.jsx("option",{value:l,children:l},l))]})]},s.key))]}),e.jsx("div",{className:"border-0 mx-10",children:e.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex flex-row gap-4 justify-content-center align-items-center",children:["Show",e.jsxs("select",{value:N,onChange:q,className:"form-select form-select-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})," ","entries"]}),e.jsxs("div",{className:"d-flex text-end gap-2",children:[e.jsx(y,{allowedRoles:n.add,children:u&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:u,children:[e.jsx(x,{iconName:"plus",className:"fs-2"}),p]})}),n.upload&&e.jsx(y,{allowedRoles:n.upload,children:C&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:s=>{s.stopPropagation(),C()},children:[e.jsx(x,{iconName:"cloud-add",className:"fs-3"}),"Upload"]})})]})]})}),e.jsxs("div",{className:"card-body py-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-row-gray-100 align-middle gs-0 gy-3 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[r.map((s,l)=>e.jsx("th",{className:`${s.className||""} ${l>0?"d-none d-md-table-cell":""}`.trim(),children:s.label},s.key)),(t||o||m&&n)&&e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:r.length+1,className:"text-center py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(x,{iconName:"search",className:"fs-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-muted fs-7 mb-0",children:"Try adjusting your search or filter criteria."})]})})}):A.map((s,l)=>e.jsxs("tr",{onClick:j?()=>j(s):void 0,className:j?"cursor-pointer":"",children:[r.map((c,g)=>e.jsx("td",{className:g>0?"d-none d-md-table-cell":"",children:e.jsx("span",{className:"text-gray-900 fw-bold fs-6 text-truncate",children:s[c.key]})},c.key)),e.jsxs("td",{children:[n.print&&e.jsx(y,{allowedRoles:n.print,children:t&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:c=>{c.stopPropagation(),t(s)},children:e.jsx(x,{iconName:"printer",className:"fs-3"})})}),e.jsx(y,{allowedRoles:n.edit,children:m&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:c=>{c.stopPropagation(),m==null||m(s)},children:e.jsx(x,{iconName:"pencil",className:"fs-3"})})}),e.jsx(y,{allowedRoles:n.edit,children:o&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",onClick:c=>{c.stopPropagation(),o==null||o(s)},children:e.jsx(x,{iconName:"trash",className:"fs-3"})})})]})]},l))})]})}),e.jsx(J,{currentPage:R,totalPages:U,onPageChange:L,children:e.jsxs("p",{children:["Showing ",S+1," - ",Math.min(T,f.length)," of"," ",f.length," entries"]})})]})]})};export{v as I,Z as T};
