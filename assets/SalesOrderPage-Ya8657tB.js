import{r as i,j as e,a1 as E,C as B,K as r,g as R,i as y,k as K,N as _,O as z}from"./index-BjAtIk4l.js";import{M as N}from"./Modal-DBranIac.js";import"./ThemeProvider-DuM_zULh.js";import"./hasClass-BXufBeMD.js";const J=({show:j,onHide:c,order:a,onSave:k})=>{const[t,d]=i.useState({orderNo:"",channel:"",customerName:"",orderDate:"",totalAmount:0,status:"pending",trackingNumber:"",orderType:"Online"});i.useEffect(()=>{d(a?{orderNo:a.orderNo,channel:a.channel,customerName:a.customerName,orderDate:a.orderDate,totalAmount:a.totalAmount,status:a.status,trackingNumber:a.trackingNumber,orderType:a.orderType}:{orderNo:"",channel:"",customerName:"",orderDate:new Date().toISOString().split("T")[0],totalAmount:0,status:"pending",trackingNumber:"",orderType:"Online"})},[a,j]);const l=h=>{const{name:x,value:p,type:u}=h.target;d({...t,[x]:u==="number"?parseFloat(p)||0:p})},o=h=>{h.preventDefault(),k(t)};return e.jsxs(N,{show:j,onHide:c,centered:!0,size:"lg",children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:a?"Edit Order":"Add Order"})}),e.jsx(N.Body,{children:e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"orderNo",className:"form-label",children:"Order No"}),e.jsx("input",{type:"text",className:"form-control",id:"orderNo",name:"orderNo",value:t.orderNo,onChange:l,required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"channel",className:"form-label",children:"Channel"}),e.jsxs("select",{className:"form-select",id:"channel",name:"channel",value:t.channel,onChange:l,required:!0,children:[e.jsx("option",{value:"",children:"Select Channel"}),e.jsx("option",{value:"Shopee",children:"Shopee"}),e.jsx("option",{value:"Tokopedia",children:"Tokopedia"}),e.jsx("option",{value:"Lazada",children:"Lazada"}),e.jsx("option",{value:"Manual",children:"Manual"})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"customerName",className:"form-label",children:"Customer Name"}),e.jsx("input",{type:"text",className:"form-control",id:"customerName",name:"customerName",value:t.customerName,onChange:l,required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"orderDate",className:"form-label",children:"Order Date"}),e.jsx("input",{type:"date",className:"form-control",id:"orderDate",name:"orderDate",value:t.orderDate,onChange:l,required:!0})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"totalAmount",className:"form-label",children:"Total Amount"}),e.jsx("input",{type:"number",className:"form-control",id:"totalAmount",name:"totalAmount",value:t.totalAmount,onChange:l,required:!0,min:"0"})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),e.jsxs("select",{className:"form-select",id:"status",name:"status",value:t.status,onChange:l,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"picking",children:"Picking"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"canceled",children:"Canceled"})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"trackingNumber",className:"form-label",children:"Tracking Number"}),e.jsx("input",{type:"text",className:"form-control",id:"trackingNumber",name:"trackingNumber",value:t.trackingNumber,onChange:l})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"orderType",className:"form-label",children:"Order Type"}),e.jsxs("select",{className:"form-select",id:"orderType",name:"orderType",value:t.orderType,onChange:l,children:[e.jsx("option",{value:"Online",children:"Online"}),e.jsx("option",{value:"Offline",children:"Offline"})]})]})]})]})}),e.jsxs(N.Footer,{children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:c,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",onClick:o,children:a?"Update":"Add"})]})]})},U=()=>{const j=E(),[c,a]=i.useState([{id:1,orderNo:"SO001",channel:"Shopee",customerName:"John Doe",orderDate:"2024-01-15",totalAmount:15e4,status:"pending",trackingNumber:"",orderType:"Online"},{id:2,orderNo:"SO002",channel:"Tokopedia",customerName:"Jane Smith",orderDate:"2024-01-16",totalAmount:2e5,status:"shipped",trackingNumber:"TK123456789",orderType:"Online"},{id:3,orderNo:"SO003",channel:"Manual",customerName:"Bob Johnson",orderDate:"2024-01-17",totalAmount:75e3,status:"completed",trackingNumber:"TK987654321",orderType:"Offline"}]),[k,t]=i.useState(!1),[d,l]=i.useState(null),[o,h]=i.useState(""),[x,p]=i.useState(""),[u,D]=i.useState(""),[m,C]=i.useState(1),b=10,S=s=>{const n={pending:{color:"secondary",label:"Pending"},picking:{color:"primary",label:"Picking"},shipped:{color:"warning",label:"Shipped"},completed:{color:"success",label:"Completed"},canceled:{color:"danger",label:"Canceled"}},v=n[s]||n.pending;return e.jsx("span",{className:`badge badge-light-${v.color} fs-7 fw-semibold`,children:v.label})},f=c.filter(s=>(s.orderNo.toLowerCase().includes(o.toLowerCase())||s.customerName.toLowerCase().includes(o.toLowerCase()))&&(x===""||s.channel===x)&&(u===""||s.status===u)),F=Math.ceil(f.length/b),g=(m-1)*b,O=f.slice(g,g+b),P=()=>{l(null),t(!0)},w=s=>{l(s),t(!0)},T=s=>{a(c.filter(n=>n.id!==s))},A=s=>{j(`/sales-order-detail/detail/${s.id}`)},M=()=>{alert("Import from API functionality")},I=s=>{if(d)a(c.map(n=>n.id===d.id?{...n,...s}:n));else{const n={...s,id:Math.max(...c.map(v=>v.id))+1};a([...c,n])}t(!1)},L=[...new Set(c.map(s=>s.channel))],q=["pending","picking","shipped","completed","canceled"];return e.jsxs(B,{children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsxs("div",{className:"w-100 card-toolbar d-flex justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(r,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search orders",value:o,onChange:s=>h(s.target.value)})]}),e.jsxs("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[e.jsxs("button",{type:"button",className:"btn btn-light-primary me-3",onClick:M,children:[e.jsx(r,{iconName:"cloud-download",className:"fs-2"}),"Import from API"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:P,children:[e.jsx(r,{iconName:"plus",className:"fs-2"}),"Add Manual Order"]})]})]}),e.jsxs("div",{className:"d-flex align-items-center mt-4",children:[e.jsx("div",{className:"me-3",children:e.jsxs("select",{className:"form-select form-select-solid",value:x,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"",children:"All Channels"}),L.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{children:e.jsxs("select",{className:"form-select form-select-solid",value:u,onChange:s=>D(s.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),q.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})})]})]}),e.jsxs("div",{className:"card-body py-4",children:[e.jsx("div",{className:"d-block d-md-none",children:O.map(s=>e.jsx("div",{className:"card mb-3",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:"card-title mb-1",children:s.orderNo}),S(s.status)]}),e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Channel"}),e.jsx("div",{children:s.channel})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Customer"}),e.jsx("div",{children:s.customerName})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Order Date"}),e.jsx("div",{children:s.orderDate})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Total Amount"}),e.jsxs("div",{children:["Rp ",s.totalAmount.toLocaleString()]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Tracking Number"}),e.jsx("div",{children:s.trackingNumber||"-"})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Order Type"}),e.jsx("div",{children:s.orderType})]})]}),e.jsxs("div",{className:"d-flex justify-content-end mt-3 gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-light-info",onClick:()=>A(s),children:e.jsx(r,{iconName:"eye",className:"fs-3"})}),e.jsx("button",{className:"btn btn-sm btn-light-primary",onClick:()=>w(s),children:e.jsx(r,{iconName:"pencil",className:"fs-3"})}),e.jsx("button",{className:"btn btn-sm btn-light-danger",onClick:()=>T(s.id),children:e.jsx(r,{iconName:"trash",className:"fs-3"})})]})]})},s.id))}),e.jsx("div",{className:"d-none d-md-block",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",id:"kt_table_orders",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"w-10px pe-2",children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:e.jsx("input",{className:"form-check-input",type:"checkbox","data-kt-check":"true","data-kt-check-target":"#kt_table_orders .form-check-input",value:"1"})})}),e.jsx("th",{className:"min-w-125px",children:"Order No"}),e.jsx("th",{className:"min-w-125px",children:"Channel"}),e.jsx("th",{className:"min-w-125px",children:"Customer Name"}),e.jsx("th",{className:"min-w-125px",children:"Order Date"}),e.jsx("th",{className:"min-w-125px",children:"Total Amount"}),e.jsx("th",{className:"min-w-125px",children:"Status"}),e.jsx("th",{className:"min-w-125px",children:"Tracking Number"}),e.jsx("th",{className:"min-w-125px",children:"Order Type"}),e.jsx("th",{className:"min-w-100px",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:O.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:e.jsx("input",{className:"form-check-input",type:"checkbox",value:"1"})})}),e.jsx("td",{className:"d-flex align-items-center",children:e.jsx("div",{className:"d-flex justify-content-start flex-column",children:e.jsx("a",{href:"#",className:"text-gray-900 fw-bold text-hover-primary fs-6",children:s.orderNo})})}),e.jsx("td",{children:s.channel}),e.jsx("td",{children:s.customerName}),e.jsx("td",{children:s.orderDate}),e.jsxs("td",{children:["Rp ",s.totalAmount.toLocaleString()]}),e.jsx("td",{children:S(s.status)}),e.jsx("td",{children:s.trackingNumber||"-"}),e.jsx("td",{children:s.orderType}),e.jsxs("td",{className:"d-flex text-end",children:[e.jsx("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm me-2",onClick:()=>A(s),children:e.jsx(r,{iconName:"eye",className:"fs-2"})}),e.jsx("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm me-2",onClick:()=>w(s),children:e.jsx(r,{iconName:"pencil",className:"fs-2"})}),e.jsx("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm",onClick:()=>T(s.id),children:e.jsx(r,{iconName:"trash",className:"fs-2"})})]})]},s.id))})]})})})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["Showing ",g+1," to ",Math.min(g+b,f.length)," of ",f.length," entries"]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{className:"btn btn-sm btn-light-primary me-2",disabled:m===1,onClick:()=>C(m-1),children:"Previous"}),e.jsx("span",{className:"btn btn-sm btn-light-primary me-2",children:m}),e.jsx("button",{className:"btn btn-sm btn-light-primary",disabled:m===F,onClick:()=>C(m+1),children:"Next"})]})]})})]}),e.jsx(J,{show:k,onHide:()=>t(!1),order:d,onSave:I})]})},$=[{title:"Dashboard",path:"/dashboard",isSeparator:!1,isActive:!1},{title:"Sales",path:"/sales",isSeparator:!1,isActive:!1}],W=()=>e.jsx(R,{children:e.jsxs(y,{element:e.jsx(e.Fragment,{children:e.jsx(z,{})}),children:[e.jsx(y,{path:"list",element:e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbs:$,children:"Sales Order"}),e.jsx(U,{})]})}),e.jsx(y,{index:!0,element:e.jsx(_,{to:"/sales-order/list"})})]})});export{W as default};
