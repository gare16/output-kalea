import{r as l,j as e,k as T,C as S,_ as A,K as o}from"./index-DtLKkDp-.js";const Q=[{title:"Dashboard",path:"/dashboard",isSeparator:!1,isActive:!1},{title:"Inventory",path:"/inventory",isSeparator:!1,isActive:!1},{title:"Adjustment",path:"/inventory/adjustment",isSeparator:!1,isActive:!0}],k=[{id:1,itemType:"Material",itemName:"Steel Rod",adjustmentType:"Stock Count",oldQty:1500,newQty:1480,difference:-20,reason:"Physical count discrepancy",createdBy:"John Doe",createdAt:"2023-10-01 10:00:00"},{id:2,itemType:"Product",itemName:"Widget A",adjustmentType:"Damage",oldQty:500,newQty:480,difference:-20,reason:"Damaged during storage",createdBy:"Jane Smith",createdAt:"2023-10-02 14:30:00"},{id:3,itemType:"Material",itemName:"Plastic Sheet",adjustmentType:"Correction",oldQty:800,newQty:820,difference:20,reason:"Previous entry error correction",createdBy:"Bob Johnson",createdAt:"2023-10-03 09:15:00"}],D=()=>{const[m,p]=l.useState(""),[n,j]=l.useState(1),[u,r]=l.useState(!1),[y,h]=l.useState(null),[s,a]=l.useState({itemType:"",itemName:"",adjustmentType:"",oldQty:0,newQty:0,reason:""}),d=10,c=k.filter(t=>t.itemName.toLowerCase().includes(m.toLowerCase())||t.adjustmentType.toLowerCase().includes(m.toLowerCase())),b=Math.ceil(c.length/d),i=(n-1)*d,N=c.slice(i,i+d),f=t=>{switch(t){case"Stock Count":return"badge-light-info";case"Damage":return"badge-light-danger";case"Correction":return"badge-light-warning";default:return"badge-light-secondary"}},v=()=>{console.log("Export inventory adjustments")},g=()=>{h(null),a({itemType:"",itemName:"",adjustmentType:"",oldQty:0,newQty:0,reason:""}),r(!0)},w=t=>{h(t),a({itemType:t.itemType,itemName:t.itemName,adjustmentType:t.adjustmentType,oldQty:t.oldQty,newQty:t.newQty,reason:t.reason}),r(!0)},C=()=>{console.log("Save adjustment:",s),r(!1)},x=()=>{r(!1),h(null)};return e.jsxs(e.Fragment,{children:[e.jsx(T,{breadcrumbs:Q,children:"Inventory Adjustment"}),e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsxs("div",{className:"w-100 card-toolbar d-flex justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(o,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text","data-kt-inventory-adjustment-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search items or types...",value:m,onChange:t=>p(t.target.value)})]}),e.jsxs("div",{className:"d-flex justify-content-end","data-kt-inventory-adjustment-table-toolbar":"base",children:[e.jsxs("button",{type:"button",className:"btn btn-light-primary me-3",onClick:v,children:[e.jsx(o,{iconName:"file-down",className:"fs-2"}),"Export"]}),e.jsxs("button",{type:"button",className:"btn btn-primary me-3",onClick:g,children:[e.jsx(o,{iconName:"plus",className:"fs-2"}),"Tambah Penyesuaian"]})]})]})}),e.jsx("div",{className:"card-body py-4",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",id:"kt_table_inventory_adjustment",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-100px",children:"Item Type"}),e.jsx("th",{className:"min-w-150px",children:"Item Name"}),e.jsx("th",{className:"min-w-120px",children:"Adjustment Type"}),e.jsx("th",{className:"min-w-80px",children:"Old Qty"}),e.jsx("th",{className:"min-w-80px",children:"New Qty"}),e.jsx("th",{className:"min-w-80px",children:"Difference"}),e.jsx("th",{className:"min-w-200px",children:"Reason"}),e.jsx("th",{className:"min-w-120px",children:"Created By"}),e.jsx("th",{className:"min-w-150px",children:"Created At"}),e.jsx("th",{className:"min-w-80px",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:N.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.itemType}),e.jsx("td",{children:e.jsx("a",{href:"#",className:"text-gray-900 fw-bold text-hover-primary fs-6",children:t.itemName})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${f(t.adjustmentType)} fs-7 fw-semibold`,children:t.adjustmentType})}),e.jsx("td",{children:t.oldQty}),e.jsx("td",{children:t.newQty}),e.jsxs("td",{className:t.difference<0?"text-danger":"text-success",children:[t.difference>0?"+":"",t.difference]}),e.jsx("td",{children:t.reason}),e.jsx("td",{children:t.createdBy}),e.jsx("td",{children:t.createdAt}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-light btn-active-light-primary me-2",onClick:()=>w(t),children:e.jsx(o,{iconName:"pencil",className:"fs-2"})})})]},t.id))})]})})}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["Showing ",i+1," to ",Math.min(i+d,c.length)," of ",c.length," entries"]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{className:"btn btn-sm btn-light-primary me-2",disabled:n===1,onClick:()=>j(n-1),children:"Previous"}),e.jsx("span",{className:"btn btn-sm btn-light-primary me-2",children:n}),e.jsx("button",{className:"btn btn-sm btn-light-primary",disabled:n===b,onClick:()=>j(n+1),children:"Next"})]})]})})]}),u&&e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:y?"Edit Adjustment":"Add New Adjustment"}),e.jsx("button",{type:"button",className:"btn-close",onClick:x})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Item Type"}),e.jsxs("select",{className:"form-select",value:s.itemType,onChange:t=>a({...s,itemType:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Item Type"}),e.jsx("option",{value:"Material",children:"Material"}),e.jsx("option",{value:"Product",children:"Product"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Item Name"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search item...",value:s.itemName,onChange:t=>a({...s,itemName:t.target.value}),list:"itemList"}),e.jsxs("datalist",{id:"itemList",children:[e.jsx("option",{value:"Steel Rod"}),e.jsx("option",{value:"Widget A"}),e.jsx("option",{value:"Plastic Sheet"})]})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Adjustment Type"}),e.jsxs("select",{className:"form-select",value:s.adjustmentType,onChange:t=>a({...s,adjustmentType:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Adjustment Type"}),e.jsx("option",{value:"Stock Count",children:"Stock Count"}),e.jsx("option",{value:"Damage",children:"Damage"}),e.jsx("option",{value:"Correction",children:"Correction"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Old Qty"}),e.jsx("input",{type:"number",className:"form-control",value:s.oldQty,readOnly:!0})]})]}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"New Qty"}),e.jsx("input",{type:"number",className:"form-control",value:s.newQty,onChange:t=>a({...s,newQty:Number(t.target.value)})})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Reason"}),e.jsx("textarea",{className:"form-control",rows:3,value:s.reason,onChange:t=>a({...s,reason:t.target.value})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:x,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:C,children:"Save"})]})]})})}),u&&e.jsx("div",{className:"modal-backdrop fade show",onClick:x})]})]})};export{D as default};
