import{$ as E,Y as Pe,a0 as Q,Z as q,j as e,a1 as H,r as b,a2 as xe,_ as he,a3 as pe,K as Ce,C as k,g as me,i as I,N as ue,O as ye,k as T}from"./index-B54S5Xdh.js";import{l as je,u as Ie}from"./useSpkList-BH9QxaUy.js";import{T as Ee}from"./TablesWidget13-BqStWbeS.js";import{D as Ke}from"./DynamicFormModal-DCFaYtBR.js";import{D as Me}from"./DynamicDeleteModal-BqK3Tive.js";import{u as O,a as G}from"./useMutation-DiuxDSGp.js";import{u as _e}from"./useVendors-BJYlgi2-.js";import{S as z}from"./StatusBadge-DFHlKB30.js";import{f as Re}from"./dateFormatter-D74KSFsW.js";import{Q as ce}from"./index-BqFtU2uK.js";import"./ThemeProvider-DVLJd33k.js";import"./Modal-iaWj1Lk0.js";import"./hasClass-CM2N8zXm.js";import"./warning-CKsm1nDU.js";const ke=async()=>(await E.get("/delivery-note/type")).data.data,ze=async d=>{const c=await E.get("/delivery-note",{params:d});return{data:c.data.data,meta:c.data.meta}},Ue=async d=>(await E.get(`/delivery-note/${d}`)).data.data,Qe=async d=>{const h=d?`/delivery-note/generate-no/${encodeURIComponent((s=>s.replace(/^SURAT JALAN\s+/i,"").trim().replace(/\s+/g,"_").toUpperCase())(d))}`:"/delivery-note/generate-no";return(await E.get(h)).data.data.delivery_note_no},Ge=async d=>(await E.post("/delivery-note",d)).data.data,Te=async d=>(await E.put(`/delivery-note/${d.id}`,d)).data.data,Be=async d=>{await E.post("/delivery-note/approval",d)},Oe=async d=>{await E.delete(`/delivery-note/${d}`)},V=d=>{var t,n;const c=Pe(),h=O({queryKey:["delivery-notes",d],queryFn:()=>ze(d)}),u=G({mutationFn:o=>Ge(o),onSuccess:o=>{console.log("Add delivery note success:",o),c.invalidateQueries({queryKey:["delivery-notes"]}),q.success("Delivery note added successfully")},onError:o=>{var l;const r=o instanceof Q?(l=o.response)==null?void 0:l.data.message:`Gagal Menambah Surat Jalan: ${o.message}`;Array.isArray(r)?r.forEach(x=>q.error(x)):q.error(r)}}),s=G({mutationFn:o=>Te(o),onSuccess:o=>{console.log("Update delivery note success:",o),c.invalidateQueries({queryKey:["delivery-notes"]}),q.success("Delivery note updated successfully")},onError:o=>{var l;const r=o instanceof Q?(l=o.response)==null?void 0:l.data.message:`Gagal Mengubah Surat Jalan: ${o.message}`;Array.isArray(r)?r.forEach(x=>q.error(x)):q.error(r)}}),a=G({mutationFn:o=>Be(o),onSuccess:()=>{console.log("Approve delivery note success"),c.invalidateQueries({queryKey:["delivery-notes"]}),q.success("Delivery note approved successfully")},onError:o=>{var l;const r=o instanceof Q?(l=o.response)==null?void 0:l.data.message:`Gagal Approve: ${o.message}`;Array.isArray(r)?r.forEach(x=>q.error(x)):q.error(r)}}),m=G({mutationFn:o=>Oe(o),onSuccess:()=>{console.log("Delete delivery note success"),c.invalidateQueries({queryKey:["delivery-notes"]}),q.success("Delivery note deleted successfully")},onError:o=>{var l;const r=o instanceof Q?(l=o.response)==null?void 0:l.data.message:`Gagal Menghapus Surat Jalan: ${o.message}`;Array.isArray(r)?r.forEach(x=>q.error(x)):q.error(r)}});return{deliveryNotes:((t=h.data)==null?void 0:t.data)||[],meta:(n=h.data)==null?void 0:n.meta,isLoading:h.isLoading,error:h.error,addDeliveryNote:u.mutate,updateDeliveryNote:s.mutate,approveDeliveryNote:a.mutate,isAdding:u.isPending,isUpdating:s.isPending,isApproving:a.isPending,isDeleting:m.isPending,deleteDeliveryNote:m.mutate}},W=d=>{const c=O({queryKey:["delivery-note",d],queryFn:()=>Ue(d),enabled:!!d});return{deliveryNote:d?c.data:null,isLoading:c.isLoading,error:c.error}},ge=()=>{const d=O({queryKey:["delivery-note-types"],queryFn:ke});return{types:d.data||[],isLoading:d.isLoading,error:d.error}},Ne=d=>{const c=O({queryKey:["generate-delivery-note-no",d],queryFn:()=>Qe(d),enabled:!!d});return{deliveryNoteNo:c.data,isLoading:c.isLoading,error:c.error,refetch:c.refetch}},Je=({deliveryNote:d,spk:c,spkDetails:h})=>{const u=(a,m)=>{const t=a.product_variants;switch(m){case"PERMINTAAN_KAIN":return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtySpk:a.qty_order,namaMaterial:a.material.material_name,jumlahMaterial:a.qty_order,kurangMaterial:a.material_shortage};case"PENGIRIMAN_BARANG":return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtySpk:a.qty_order,qtyDone:a.qty_done,qtyOut:a.qty_order,hpp:a.cost_price};case"BUANG_BENANG_KELUAR":return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtyOrder:a.qty_order,qtyOut:a.qty_out};case"BUANG_BENANG_MASUK":return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtySpk:a.qty_order,qtyOut:a.qty_out,qtyIn:a.qty_in,selisih:Number(a.qty_out)-Number(a.qty_in)};case"JAHIT_KELUAR":return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtyOrder:a.qty_order,qtyOut:a.qty_out};case"JAHIT_MASUK":return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtySpk:a.qty_order,qtyOut:a.qty_out,qtyIn:a.qty_out,selisih:Number(a.qty_out)-Number(a.qty_in)};default:return{product:t.product_name,variant:`${t.color} - ${t.size}`,qtyOrder:a.qty_order,qtyDone:a.qty_done,qtyReject:a.qty_reject}}},s=()=>{if(!h||h.length===0)return null;switch(d.delivery_note_type){case"PERMINTAAN_KAIN":return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Color"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Size"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty SPK"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Nama Material"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Jumlah Material"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Kurang Material"})]})}),e.jsx("tbody",{children:h.map((a,m)=>{const t=u(a,"PERMINTAAN_KAIN");return e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.product}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.color}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.size}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtySpk}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.namaMaterial}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.jumlahMaterial}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.kurangMaterial})]},a.id??m)})})]});case"PENGIRIMAN_BARANG":return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Color"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Size"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty SPK"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Done"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Out"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"HPP"})]})}),e.jsx("tbody",{children:h.map((a,m)=>{const t=u(a,"PENGIRIMAN_BARANG");return e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.product}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.color}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.size}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtySpk}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyDone}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOut}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.hpp})]},a.id??m)})})]});case"BUANG_BENANG_KELUAR":return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Color"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Size"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Order"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Out"})]})}),e.jsx("tbody",{children:h.map((a,m)=>{const t=u(a,"BUANG_BENANG_KELUAR");return e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.product}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.color}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.size}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOrder}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOut})]},a.id??m)})})]});case"BUANG_BENANG_MASUK":return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Color"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Size"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty SPK"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Out"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty In"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Selisih"})]})}),e.jsx("tbody",{children:h.map((a,m)=>{const t=u(a,"BUANG_BENANG_MASUK");return e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.product}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.color}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.size}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtySpk}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOut}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyIn}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.selisih})]},a.id??m)})})]});case"JAHIT_KELUAR":return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Color"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Size"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Order"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Out"})]})}),e.jsx("tbody",{children:h.map((a,m)=>{const t=u(a,"JAHIT_KELUAR");return e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.product}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.color}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.size}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOrder}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOut})]},a.id??m)})})]});case"JAHIT_MASUK":return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Color"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Size"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty SPK"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Out"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty In"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Selisih"})]})}),e.jsx("tbody",{children:h.map((a,m)=>{const t=u(a,"JAHIT_MASUK");return e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:t.product}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.color}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.size}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtySpk}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyOut}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.qtyIn}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:t.selisih})]},a.id??m)})})]});default:return e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Product"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"left"},children:"Variant"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Order"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Done"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"Qty Reject"})]})}),e.jsx("tbody",{children:h.map((a,m)=>e.jsxs("tr",{style:{backgroundColor:m%2===0?"#fff":"#f9f9f9"},children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:a.product_variants.product_name}),e.jsxs("td",{style:{border:"1px solid #ccc",padding:"8px"},children:[a.product_variants.color," - ",a.product_variants.size]}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:a.qty_order}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:a.qty_done}),e.jsx("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:a.qty_reject})]},a.id??m))})]})}};return e.jsxs("div",{style:{fontFamily:"Arial, sans-serif",maxWidth:"210mm",margin:"0 auto",padding:"16mm",backgroundColor:"#fff",color:"#000",lineHeight:"1.4",fontSize:"12px"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"Surat Jalan"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"24px",fontSize:"12px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold",width:"160px"},children:"Delivery Note No"}),e.jsx("td",{style:{padding:"6px 8px"},children:d.delivery_note_no})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold"},children:"Delivery Date"}),e.jsx("td",{style:{padding:"6px 8px"},children:d.delivery_note_date?Re(d.delivery_note_date):"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold"},children:"Type"}),e.jsx("td",{style:{padding:"6px 8px"},children:d.delivery_note_type||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold"},children:"Vendor"}),e.jsx("td",{style:{padding:"6px 8px"},children:d.vendor.name})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold"},children:"Destination"}),e.jsx("td",{style:{padding:"6px 8px"},children:d.destination})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold"},children:"No SPK"}),e.jsx("td",{style:{padding:"6px 8px"},children:(c==null?void 0:c.map(a=>a.spk_no).join(", "))||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"6px 8px",fontWeight:"bold"},children:"Notes"}),e.jsx("td",{style:{padding:"6px 8px"},children:d.notes||"-"})]})]})}),h&&h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{marginBottom:"10px"},children:"Product Variants"}),s()]})]})},Le=()=>{const d=H(),[c,h]=b.useState(!1),[u,s]=b.useState(!1),[a,m]=b.useState(null),[t,n]=b.useState(null),o=b.useRef(null),[r,l]=b.useState(""),{deliveryNotes:x,addDeliveryNote:i,deleteDeliveryNote:N}=V(),{deliveryNote:y,isLoading:f}=W(t),{types:w}=ge(),{vendors:K}=_e(),{deliveryNoteNo:p,refetch:J}=Ne(r),U=[{key:"noSJ",label:"No. SJ",className:"min-w-120px"},{key:"tanggal",label:"Tanggal",className:"min-w-100px"},{key:"jenis",label:"Jenis",className:"min-w-100px"},{key:"vendor",label:"Vendor",className:"min-w-125px"},{key:"tujuan",label:"Tujuan",className:"min-w-125px"},{key:"status",label:"Status",className:"min-w-100px"},{key:"createdBy",label:"Created By",className:"min-w-125px"}],L=x.map(g=>({id:g.id,noSJ:g.delivery_note_no,tanggal:g.delivery_note_date,jenis:g.delivery_note_type,vendor:g.vendor.name,tujuan:g.destination,status:e.jsx(z,{status:g.status.toLowerCase()}),createdBy:"System"})),S=g=>{m(g),h(!0)},v=()=>{N(a==null?void 0:a.id),h(!1)},M=g=>{d(`/production/edit-surat-jalan/${g.id}`)},$=g=>{const C=g.id;n(C)},R=je.useReactToPrint({contentRef:o,documentTitle:y?`SuratJalan-${y.delivery_note_no}`:"SuratJalan-Detail",pageStyle:`
      @page {
        size: A4;
        margin: 20mm;
      }
      body {
        -webkit-print-color-adjust: exact !important;
        color-adjust: exact !important;
      }
    `});b.useEffect(()=>{y&&!f&&t&&(R(),n(null))},[y,f,R,t]);const _=()=>{d("/production/add-surat-jalan")},j=g=>{l(g),J()},P=g=>{const C={delivery_note_no:p||g.noSJ,delivery_note_date:g.tanggal,delivery_note_type:g.jenis,vendor_id:g.vendor,destination:g.tujuan,status:g.status,notes:g.notes||"",user_id:"system",details:[]};i(C),s(!1),l("")};return e.jsxs("div",{children:[y&&e.jsx("div",{ref:o,className:"spk-print-content",style:{position:"absolute",left:"-9999px",top:"-9999px"},children:e.jsx(Je,{deliveryNote:y,spk:y.spk||[],spkDetails:y.spk_details||[]})}),e.jsx(Ee,{className:"card-xl-stretch",rows:L,columns:U,labelAdd:"Surat Jalan",filters:[{key:"jenis",label:"Filter by Jenis"},{key:"vendor",label:"Filter by Vendor"},{key:"status",label:"Filter by Status"}],onDelete:S,onEdit:M,onAddClick:_,onPrint:$,onRowClick:g=>d(`/production/delivery-note-detail/detail/${g.id}`),roleAccess:{add:["ADMIN","OWNER","ADMIN PRODUKSI"],edit:["ADMIN","OWNER","ADMIN PRODUKSI"],print:["ADMIN","OWNER","ADMIN PRODUKSI","WAREHOUSE"]}}),c&&a&&e.jsx(Me,{show:c,title:"Delete Surat Jalan",itemName:a.noSJ,onConfirm:v,onClose:()=>{h(!1),m(null)}}),u&&e.jsx(Ke,{show:u,title:"Add Surat Jalan",fields:[{name:"jenis",label:"Jenis",type:"select",required:!0,options:w.map(g=>({value:g.id,label:g.name})),icon:"cog",onChange:j},{name:"noSJ",label:"No. SJ",type:"text",required:!0,icon:"document"},{name:"tanggal",label:"Tanggal",type:"date",required:!0,icon:"calendar"},{name:"vendor",label:"Vendor",type:"select",required:!0,options:K.map(g=>({value:g.id,label:g.name})),icon:"user"},{name:"tujuan",label:"Tujuan",type:"text",required:!0,icon:"map"},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"PENDING",label:"Pending"},{value:"DONE",label:"Done"}],icon:"check-circle"},{name:"notes",label:"Notes",type:"textarea",required:!1,icon:"comment"}],onSubmit:P,onClose:()=>s(!1)})]})},$e={delivery_note_no:"",delivery_note_date:"",delivery_note_type:"PERMINTAAN_KAIN",vendor_id:"",destination:"",status:"PENDING",notes:"",user_id:"system"},be=(d,c)=>{const h=(c==null?void 0:c.autoGenerateNo)??!0,u=(c==null?void 0:c.autoSetDate)??!0,s=b.useMemo(()=>({...$e,...d}),[d]),[a,m]=b.useState(s);b.useEffect(()=>{m(r=>({...r,...s}))},[s]);const{deliveryNoteNo:t,refetch:n}=Ne(h?a.delivery_note_type:void 0);return b.useEffect(()=>{h&&a.delivery_note_type&&n()},[h,a.delivery_note_type,n]),b.useEffect(()=>{h&&t&&m(r=>({...r,delivery_note_no:t}))},[h,t]),b.useEffect(()=>{if(!u||d!=null&&d.delivery_note_date)return;const r=new Date().toISOString().split("T")[0];m(l=>({...l,delivery_note_date:r}))},[u,d==null?void 0:d.delivery_note_date]),{formData:a,updateFormData:r=>{m(l=>({...l,...r}))}}},ve=()=>{const{data:d}=Ie(),[c,h]=b.useState([]),[u,s]=b.useState({});b.useEffect(()=>{c.forEach(t=>{u[t]||(async()=>{try{const o=await E.get(`/spk/${t}`);o.data.success&&s(r=>({...r,[t]:o.data.data.details}))}catch(o){console.error("Error fetching SPK detail:",o)}})()})},[c,u]);const a=t=>{h(n=>n.includes(t)?n.filter(o=>o!==t):[...n,t])},m=b.useCallback(t=>{h(n=>n.length===t.length&&n.every(r=>t.includes(r))?n:t)},[]);return{spkList:d,selectedSpks:c,spkDetails:u,toggleSpkSelection:a,setSelectedSpks:m}},A={PERMINTAAN_KAIN:"PERMINTAAN_KAIN",BUANG_BENANG_KELUAR:"BUANG_BENANG_KELUAR",JAHIT_KELUAR:"JAHIT_KELUAR",BUANG_BENANG_MASUK:"BUANG_BENANG_MASUK",JAHIT_MASUK:"JAHIT_MASUK",PENGIRIMAN_BARANG:"PENGIRIMAN_BARANG"},oe=(d,c,h)=>{const u=Array.isArray(d)?d:[];if(h===A.PERMINTAAN_KAIN){const s=Array.isArray(c.req_material)?c.req_material:[],a=s.find(t=>/kain/i.test(t.material_name))||s[0];if(a)return{material_id:a.material_id,material_name:a.material_name,material_qty:a.qty_required};const m=u.find(t=>/kain/i.test(t.material_name));if(m)return{material_id:m.material_id,material_name:m.material_name,material_qty:m.qty_per_unit*c.qty_order}}return{material_id:"",material_name:"",material_qty:0}},fe=d=>{const[c,h]=b.useState([]),u=(t,n,o)=>{if(o){const{material_id:r,material_name:l,material_qty:x}=oe(t.bom,t,d),i={spk_detail_id:t.id,item_type:"PRODUCT",product_variant_id:(t==null?void 0:t.id)??"",material_id:r||null,qty_out:t.qty_order,qty_in:0,labor_cost:0,spk_no:n.noSpk,product_name:t.product_name,color:t.color,size:t.size,qty_order:t.qty_order,material_name:l,material_qty:x,short_material:0,qty_done:0,hpp:0,selisih:0,req_material:t.req_material};h(N=>[...N,i])}else h(r=>r.filter(l=>l.spk_detail_id!==t.id))},s=(t,n,o,r)=>{if(n){const l=r.map(x=>{const{material_id:i,material_name:N,material_qty:y}=oe(x.bom,x,d);return{spk_detail_id:x.id,item_type:"PRODUCT",product_variant_id:(x==null?void 0:x.id)??"",material_id:i||null,qty_out:x.qty_order,qty_in:0,labor_cost:0,spk_no:o.noSpk,product_name:x.product_name,color:x.color,size:x.size,qty_order:x.qty_order,material_name:N,material_qty:y,short_material:0,qty_done:0,hpp:0,selisih:0,req_material:x.req_material}});h(x=>[...x.filter(i=>!r.some(N=>N.id===i.spk_detail_id)),...l])}else h(l=>l.filter(x=>!r.some(i=>i.id===x.spk_detail_id)))},a=(t,n,o)=>{h(r=>r.map(l=>l.spk_detail_id===t?{...l,[n]:o}:l))},m=b.useCallback(t=>{h(t)},[]);return{selectedDetails:c,handleDetailSelect:u,handleSelectAllDetails:s,updateDetail:a,setSelectedDetails:m}},Ae=({formData:d,updateFormData:c})=>{const{types:h}=ge(),{vendors:u}=_e();return e.jsxs("div",{children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Delivery Note No *"}),e.jsx("input",{type:"text",className:"form-control",value:d.delivery_note_no,onChange:s=>c({delivery_note_no:s.target.value}),disabled:!0})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Delivery Date *"}),e.jsx("input",{type:"date",className:"form-control",value:d.delivery_note_date,onChange:s=>c({delivery_note_date:s.target.value})})]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Type *"}),e.jsx("select",{className:"form-select",value:d.delivery_note_type,onChange:s=>c({delivery_note_type:s.target.value}),children:h.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Vendor *"}),e.jsxs("select",{className:"form-select",value:d.vendor_id,onChange:s=>c({vendor_id:s.target.value}),children:[e.jsx("option",{value:"",children:"Select Vendor"}),u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})})]}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Destination *"}),e.jsx("input",{type:"text",className:"form-control",value:d.destination,onChange:s=>c({destination:s.target.value})})]})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label",children:"Notes"}),e.jsx("textarea",{className:"form-control",rows:3,value:d.notes,onChange:s=>c({notes:s.target.value})})]})]})},qe=({spkList:d,selectedSpks:c,toggleSpkSelection:h})=>{const[u,s]=b.useState(""),[a,m]=b.useState(1),t=3,n=(d==null?void 0:d.filter(l=>l.status==="approved"&&(u===""||l.noSpk.toLowerCase().includes(u.toLowerCase())||l.buyer.toLowerCase().includes(u.toLowerCase()))))||[],o=n.slice((a-1)*t,a*t),r=Math.ceil(n.length/t);return e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label",children:"Select SPKs *"}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-6",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search SPK by number or buyer...",value:u,onChange:l=>s(l.target.value),onKeyDown:l=>{l.key==="Enter"&&m(1)}})})}),e.jsx("div",{className:"row",children:o.map(l=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsx("div",{className:`card h-100 ${c.includes(l.id)?"border-primary":"border-light"}`,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`spk-${l.id}`,checked:c.includes(l.id),disabled:l.status!=="approved",onChange:()=>h(l.id)}),e.jsx("label",{className:"form-check-label w-100",htmlFor:`spk-${l.id}`,children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("strong",{className:"text-primary",children:l.noSpk}),e.jsx("small",{className:"text-muted",children:l.buyer}),e.jsx("span",{className:`badge ${l.status==="approved"?"bg-success":l.status==="in_progress"?"bg-warning":"bg-secondary"} mt-1 align-self-start`,children:l.status.replace("_"," ").toUpperCase()})]})})]})})})},l.id))}),r>1&&e.jsx("div",{className:"d-flex justify-content-center mt-3",children:e.jsx("nav",{children:e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>m(l=>Math.max(1,l-1)),disabled:a===1,children:"Previous"})}),Array.from({length:r},(l,x)=>x+1).map(l=>e.jsx("li",{className:`page-item ${a===l?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>m(l),children:l})},l)),e.jsx("li",{className:`page-item ${a===r?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>m(l=>Math.min(r,l+1)),disabled:a===r,children:"Next"})})]})})}),c.length>0&&e.jsx("div",{className:"mt-3",children:e.jsxs("small",{className:"text-muted",children:["Selected ",c.length," SPK",c.length>1?"s":""]})})]})},Se=({selectedSpks:d,spkList:c,spkDetails:h,selectedDetails:u,deliveryNoteType:s,handleDetailSelect:a,handleSelectAllDetails:m,updateDetail:t})=>{if(d.length===0)return null;const n=()=>{const r=[e.jsx("th",{},"checkbox"),e.jsx("th",{children:"Product"},"product"),e.jsx("th",{children:"Color"},"color"),e.jsx("th",{children:"Size"},"size")];return s===A.PERMINTAAN_KAIN?r.push(e.jsx("th",{children:"Qty SPK"},"qty_spk"),e.jsx("th",{children:"Nama Material"},"material_name"),e.jsx("th",{children:"Jumlah Material"},"material_qty"),e.jsx("th",{children:"Kurang Material"},"short_material")):s===A.BUANG_BENANG_KELUAR||s===A.JAHIT_KELUAR?r.push(e.jsx("th",{children:"Qty Order"},"qty_order"),e.jsx("th",{children:"Qty Out"},"qty_out")):s===A.BUANG_BENANG_MASUK||s===A.JAHIT_MASUK?r.push(e.jsx("th",{children:"Qty SPK"},"qty_spk"),e.jsx("th",{children:"Qty Out"},"qty_out"),e.jsx("th",{children:"Qty In"},"qty_in"),e.jsx("th",{children:"Selisih"},"selisih")):s===A.PENGIRIMAN_BARANG?r.push(e.jsx("th",{children:"Qty SPK"},"qty_spk"),e.jsx("th",{children:"Qty Done"},"qty_done"),e.jsx("th",{children:"Qty Out"},"qty_out"),e.jsx("th",{children:"HPP"},"hpp")):r.push(e.jsx("th",{children:"Qty Order"},"qty_order"),e.jsx("th",{children:"Qty"},"qty_out")),r},o=(r,l)=>{var y,f,w,K;const x=u.some(p=>p.spk_detail_id===r.id),i=u.find(p=>p.spk_detail_id===r.id),N=[e.jsx("td",{onClick:p=>p.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:x,onClick:p=>p.stopPropagation(),onChange:p=>a(r,l,p.target.checked)})},"checkbox"),e.jsx("td",{children:r.product_name},"product"),e.jsx("td",{children:r.color},"color"),e.jsx("td",{children:r.size},"size")];return s===A.PERMINTAAN_KAIN?N.push(e.jsx("td",{children:r.qty_order},"qty_spk"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"text",className:"form-control",value:((f=(y=i==null?void 0:i.req_material)==null?void 0:y[0])==null?void 0:f.material_name)??(i==null?void 0:i.material_name)??"",readOnly:!0})},"material_name"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:((K=(w=i==null?void 0:i.req_material)==null?void 0:w[0])==null?void 0:K.qty_required)??(i==null?void 0:i.material_qty)??"",readOnly:!0})},"material_qty"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.short_material)||"",onChange:p=>t(r.id,"short_material",p.target.value===""?0:parseInt(p.target.value)||0),min:0})},"short_material")):s===A.BUANG_BENANG_KELUAR||s===A.JAHIT_KELUAR?N.push(e.jsx("td",{children:r.qty_order},"qty_order"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.qty_out)||"",onChange:p=>t(r.id,"qty_out",p.target.value===""?0:parseInt(p.target.value)||0),max:r.qty_order,min:0})},"qty_out")):s===A.BUANG_BENANG_MASUK||s===A.JAHIT_MASUK?N.push(e.jsx("td",{children:r.qty_order},"qty_spk"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.qty_out)||"",onChange:p=>t(r.id,"qty_out",p.target.value===""?0:parseInt(p.target.value)||0),min:0})},"qty_out"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.qty_in)||"",onChange:p=>t(r.id,"qty_in",p.target.value===""?0:parseInt(p.target.value)||0),min:0})},"qty_in"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.selisih)||"",onChange:p=>t(r.id,"selisih",p.target.value===""?0:parseInt(p.target.value)||0),min:0})},"selisih")):s===A.PENGIRIMAN_BARANG?N.push(e.jsx("td",{children:r.qty_order},"qty_spk"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.qty_done)||"",onChange:p=>t(r.id,"qty_done",p.target.value===""?0:parseInt(p.target.value)||0),min:0})},"qty_done"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.qty_out)||"",onChange:p=>t(r.id,"qty_out",p.target.value===""?0:parseInt(p.target.value)||0),min:0})},"qty_out"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.hpp)||"",onChange:p=>t(r.id,"hpp",p.target.value===""?0:parseFloat(p.target.value)||0),min:0,step:"0.01"})},"hpp")):N.push(e.jsx("td",{children:r.qty_order},"qty_order"),e.jsx("td",{onClick:p=>p.stopPropagation(),children:x&&e.jsx("input",{type:"number",className:"form-control",value:(i==null?void 0:i.qty_out)||"",onChange:p=>t(r.id,"qty_out",p.target.value===""?0:parseInt(p.target.value)||0),max:r.qty_order,min:0})},"qty_out")),N};return e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"Select SPK Details"}),d.map(r=>{const l=c==null?void 0:c.find(y=>y.id===r),x=h[r]||[],i=x.length>0&&x.every(y=>u.some(f=>f.spk_detail_id===y.id)),N=x.some(y=>u.some(f=>f.spk_detail_id===y.id));return e.jsxs("div",{className:"mb-3",children:[e.jsxs("h6",{children:[l==null?void 0:l.noSpk," - ",l==null?void 0:l.buyer]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:i,ref:y=>{y&&(y.indeterminate=N&&!i)},onChange:y=>m(r,y.target.checked,l,x)})}),n().slice(1)]})}),e.jsx("tbody",{children:x.map(y=>{const f=u.some(w=>w.spk_detail_id===y.id);return e.jsx("tr",{className:`cursor-pointer ${f?"table-active":""}`,onClick:()=>a(y,l,!f),children:o(y,l)},y.id)})})]})})]},r)})]})},Fe=()=>{const d=H(),{addDeliveryNote:c}=V(),{currentUser:h}=xe(),{formData:u,updateFormData:s}=be(),{spkList:a,selectedSpks:m,spkDetails:t,toggleSpkSelection:n}=ve(),{selectedDetails:o,handleDetailSelect:r,handleSelectAllDetails:l,updateDetail:x}=fe(u.delivery_note_type),i=()=>{if(!u.delivery_note_no||!u.delivery_note_date||!u.vendor_id||!u.destination){alert("Please fill all required fields");return}if(o.length===0){alert("Please select at least one SPK detail");return}if(h){const N={...u,user_id:h==null?void 0:h.full_name,details:o.map(y=>({spk_detail_id:y.spk_detail_id,item_type:y.item_type,product_variant_id:y.product_variant_id,material_id:y.material_id,qty_out:y.qty_out,qty_in:y.qty_in,labor_cost:y.labor_cost,material_name:y.material_name,material_qty:y.material_qty,short_material:y.short_material,qty_done:y.qty_done,hpp:y.hpp,selisih:y.selisih}))};console.log(N),c(N),d("/production/surat-jalan")}};return e.jsx("div",{className:"container-fluid",children:e.jsxs(he,{children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Add Surat Jalan"})}),e.jsxs("div",{className:"card-body",children:[e.jsx(Ae,{formData:u,updateFormData:s}),e.jsx(qe,{spkList:a,selectedSpks:m,toggleSpkSelection:n}),e.jsx(Se,{selectedSpks:m,spkList:a,spkDetails:t,selectedDetails:o,deliveryNoteType:u.delivery_note_type,handleDetailSelect:r,handleSelectAllDetails:l,updateDetail:x}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:i,children:"Save Surat Jalan"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>d("/production/surat-jalan"),children:"Cancel"})]})]})]})})},De=()=>{const d=H(),{id:c}=pe(),{currentUser:h}=xe(),{updateDeliveryNote:u}=V(),{deliveryNote:s,isLoading:a,error:m}=W(c||""),t=b.useRef(!1),n=b.useRef(!1),o=b.useMemo(()=>{var S;if(s)return{delivery_note_no:s.delivery_note_no,delivery_note_date:s.delivery_note_date,delivery_note_type:s.delivery_note_type,vendor_id:s.vendor_id||((S=s.vendor)==null?void 0:S.id)||"",destination:s.destination,status:s.status,notes:s.notes||"",user_id:(h==null?void 0:h.full_name)||"system"}},[s,h==null?void 0:h.full_name]),{formData:r,updateFormData:l}=be(o,{autoGenerateNo:!1,autoSetDate:!1}),{spkList:x,selectedSpks:i,spkDetails:N,toggleSpkSelection:y,setSelectedSpks:f}=ve(),{selectedDetails:w,handleDetailSelect:K,handleSelectAllDetails:p,updateDetail:J,setSelectedDetails:U}=fe(r.delivery_note_type);b.useEffect(()=>{if(!(s!=null&&s.spk)||s.spk.length===0||t.current)return;const S=s.spk.map(v=>v.id).filter(Boolean);S.length>0&&(t.current=!0,f(S))},[s,f]),b.useEffect(()=>{var R;if(!((R=s==null?void 0:s.details)!=null&&R.length)||!i.length)return;const S=i.every(_=>N[_]);if(n.current&&!S)return;const M=new Map;if(s.spk_details&&s.spk_details.forEach(_=>{var P,g,C;const j={id:_.id,product_variants:_.product_variants,product_name:((P=_.product_variants)==null?void 0:P.product_name)||"",size:((g=_.product_variants)==null?void 0:g.size)||"",color:((C=_.product_variants)==null?void 0:C.color)||"",qty_order:_.qty_order,qty_done:_.qty_done,qty_reject:_.qty_reject,qty_shipped:0,progress:_.progress||"",status:_.status||"",cost_price:_.cost_price,bom:[],stages:[],req_material:[]};M.set(_.id,j)}),i.forEach(_=>{N[_]&&N[_].forEach(j=>{M.set(j.id,j)})}),M.size===0)return;const $=s.details.map(_=>{var g,C,Y,Z,X,ee,te,se,re,ne,ae;const j=M.get(_.spk_detail_id);let P=(g=s.spk)==null?void 0:g.find(de=>{var le;return N[de.id]&&N[de.id].map(we=>we.id).includes(_.spk_detail_id)?!0:((le=s.spk_details)==null?void 0:le.some(ie=>ie.id===_.spk_detail_id))||!1});return!P&&s.spk&&s.spk.length>0&&(P=s.spk[0]),{spk_detail_id:_.spk_detail_id,item_type:_.item_type,product_variant_id:_.product_variant_id||((C=j==null?void 0:j.product_variants)==null?void 0:C.id)||"",material_id:_.material_id,qty_out:_.qty_out,qty_in:_.qty_in,labor_cost:_.labor_cost,spk_no:(P==null?void 0:P.spk_no)||((Z=(Y=s.spk)==null?void 0:Y[0])==null?void 0:Z.spk_no)||"",product_name:(j==null?void 0:j.product_name)||((X=j==null?void 0:j.product_variants)==null?void 0:X.product_name)||"",color:(j==null?void 0:j.color)||((ee=j==null?void 0:j.product_variants)==null?void 0:ee.color)||"",size:(j==null?void 0:j.size)||((te=j==null?void 0:j.product_variants)==null?void 0:te.size)||"",qty_order:(j==null?void 0:j.qty_order)||0,material_name:_.material_name||((re=(se=j==null?void 0:j.req_material)==null?void 0:se[0])==null?void 0:re.material_name)||"",material_qty:_.material_qty||((ae=(ne=j==null?void 0:j.req_material)==null?void 0:ne[0])==null?void 0:ae.qty_required)||0,short_material:_.short_material||0,qty_done:_.qty_done||(j==null?void 0:j.qty_done)||0,hpp:_.hpp||0,selisih:_.selisih||0,req_material:(j==null?void 0:j.req_material)||[]}});U($),Object.keys(N).length>0&&i.every(_=>N[_])&&(n.current=!0)},[s,i,N,U]);const L=()=>{if(!c){alert("Delivery note ID tidak ditemukan");return}if(!r.delivery_note_no||!r.delivery_note_date||!r.vendor_id||!r.destination){alert("Please fill all required fields");return}if(w.length===0){alert("Please select at least one SPK detail");return}const S={...r,id:c,user_id:(h==null?void 0:h.full_name)||r.user_id,details:w.map(v=>({spk_detail_id:v.spk_detail_id,item_type:v.item_type,product_variant_id:v.product_variant_id,material_id:v.material_id,qty_out:v.qty_out,qty_in:v.qty_in,labor_cost:v.labor_cost,material_name:v.material_name,material_qty:v.material_qty,short_material:v.short_material,qty_done:v.qty_done,hpp:v.hpp,selisih:v.selisih}))};u(S),d("/production/surat-jalan")};return a?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"},children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):m||!s?e.jsx("div",{className:"alert alert-danger",children:m?m.message:"Delivery note tidak ditemukan"}):e.jsx("div",{className:"container-fluid",children:e.jsx(he,{children:e.jsxs("div",{className:"card-body",children:[e.jsx(Ae,{formData:r,updateFormData:l}),e.jsx(qe,{spkList:x,selectedSpks:i,toggleSpkSelection:y}),e.jsx(Se,{selectedSpks:i,spkList:x,spkDetails:N,selectedDetails:w,deliveryNoteType:r.delivery_note_type,handleDetailSelect:K,handleSelectAllDetails:p,updateDetail:J}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:L,children:"Update Surat Jalan"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>d("/production/surat-jalan"),children:"Cancel"})]})]})})})},He=({detail:d})=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#fff",padding:"20px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:"No SPK : ...."}),e.jsx(ce,{value:d.barcode,size:150}),e.jsx("h2",{style:{marginTop:"20px",fontSize:"24px",fontWeight:"bold"},children:d.product_variants.sku}),e.jsx(ce,{value:d.product_variants.barcode,size:150})]})}),B=d=>d==null?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),Ve=({type:d,spkDetails:c})=>{const[h,u]=b.useState(null),s=b.useRef(null),a=je.useReactToPrint({contentRef:s,documentTitle:"Barcode",pageStyle:`
        @page {
          size: A4;
          margin: 20mm;
        }
        body {
          -webkit-print-color-adjust: exact !important;
          color-adjust: exact !important;
        }
      `}),m=n=>{u(n),setTimeout(()=>{a()},100)};let t;switch(d){case"PERMINTAAN_KAIN":t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-100px",children:"Material Name"}),e.jsx("th",{className:"min-w-100px",children:"Material Qty"}),e.jsx("th",{className:"min-w-80px",children:"SPK Qty"}),e.jsx("th",{className:"min-w-80px",children:"Kurang Material"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x,i;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:((i=n.material)==null?void 0:i.material_name)??"-"}),e.jsx("td",{children:n.material_qty}),e.jsx("td",{children:n.qty_order??"-"}),e.jsx("td",{children:n.material_shortage})]},n.id)})})]});break;case"PENGIRIMAN_BARANG":t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-80px",children:"SPK Qty"}),e.jsx("th",{className:"min-w-80px",children:"Qty Done"}),e.jsx("th",{className:"min-w-80px",children:"Qty Out"}),e.jsx("th",{className:"min-w-100px",children:"HPP"}),e.jsx("th",{className:"min-w-120px",children:"Price"}),e.jsx("th",{className:"min-w-120px",children:"Aksi"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x,i,N;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:n.qty_order??"-"}),e.jsx("td",{children:n.qty_done??"-"}),e.jsx("td",{children:n.qty_out??"-"}),e.jsx("td",{children:((i=n.product_variants)==null?void 0:i.cost_price)!=null?B(n.cost_price):"-"}),e.jsx("td",{children:((N=n.product_variants)==null?void 0:N.price)!=null?B(n.product_variants.price):"-"}),e.jsx("td",{children:e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:y=>{y.stopPropagation(),m(n)},children:e.jsx(Ce,{iconName:"printer",className:"fs-3"})})})]},n.id)})})]});break;case"BUANG_BENANG_KELUAR":t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-80px",children:"Qty Order"}),e.jsx("th",{className:"min-w-80px",children:"Qty Out"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:n.qty_order??"-"}),e.jsx("td",{children:n.qty_out??"-"})]},n.id)})})]});break;case"BUANG_BENANG_MASUK":t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-80px",children:"SPK Qty"}),e.jsx("th",{className:"min-w-80px",children:"Qty Out"}),e.jsx("th",{className:"min-w-80px",children:"Qty In"}),e.jsx("th",{className:"min-w-80px",children:"Difference"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:"-"}),e.jsx("td",{children:n.qty_out??"-"}),e.jsx("td",{children:n.qty_in??"-"}),e.jsx("td",{children:Number(n.qty_out)-Number(n.qty_in)})]},n.id)})})]});break;case"JAHIT_KELUAR":t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-80px",children:"Qty Order"}),e.jsx("th",{className:"min-w-80px",children:"Qty Out"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:n.qty_order??"-"}),e.jsx("td",{children:n.qty_out??"-"})]},n.id)})})]});break;case"JAHIT_MASUK":t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-80px",children:"SPK Qty"}),e.jsx("th",{className:"min-w-80px",children:"Qty Out"}),e.jsx("th",{className:"min-w-80px",children:"Qty In"}),e.jsx("th",{className:"min-w-80px",children:"Difference"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:n.qty_order??"-"}),e.jsx("td",{children:n.qty_out??"-"}),e.jsx("td",{children:n.qty_in??"-"}),e.jsx("td",{children:Number(n.qty_out)-Number(n.qty_in)})]},n.id)})})]});break;default:t=e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-200px",children:"Product"}),e.jsx("th",{className:"min-w-100px",children:"SKU"}),e.jsx("th",{className:"min-w-80px",children:"Size"}),e.jsx("th",{className:"min-w-80px",children:"Color"}),e.jsx("th",{className:"min-w-80px",children:"Qty Order"}),e.jsx("th",{className:"min-w-80px",children:"Qty Done"}),e.jsx("th",{className:"min-w-80px",children:"Qty Reject"}),e.jsx("th",{className:"min-w-80px",children:"Progress"}),e.jsx("th",{className:"min-w-100px",children:"Status"}),e.jsx("th",{className:"min-w-120px",children:"Cost Price"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:c.map(n=>{var o,r,l,x;return e.jsxs("tr",{children:[e.jsx("td",{children:((o=n.product_variants)==null?void 0:o.product_name)||"-"}),e.jsx("td",{children:((r=n.product_variants)==null?void 0:r.sku)||"-"}),e.jsx("td",{children:((l=n.product_variants)==null?void 0:l.size)||"-"}),e.jsx("td",{children:((x=n.product_variants)==null?void 0:x.color)||"-"}),e.jsx("td",{children:n.qty_order??"-"}),e.jsx("td",{children:n.qty_done??"-"}),e.jsx("td",{children:n.qty_reject??"-"}),e.jsx("td",{children:n.progress??"-"}),e.jsx("td",{children:n.status?e.jsx(z,{status:n.status.toLowerCase()}):"-"}),e.jsx("td",{children:n.cost_price!=null?B(n.cost_price):"-"})]},n.id)})})]});break}return e.jsxs(e.Fragment,{children:[t,h&&e.jsx("div",{style:{display:"none"},children:e.jsx("div",{ref:s,children:e.jsx(He,{detail:h})})})]})},F=d=>{if(!d)return"-";const c=new Date(d);return Number.isNaN(c.getTime())?d:c.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})},We=({deliveryNoteId:d})=>{var a,m,t,n,o,r,l,x;const{deliveryNote:c,isLoading:h,error:u}=W(d||""),s=c||null;return d?h?e.jsx(k,{children:e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"200px"},children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):u?e.jsx(k,{children:e.jsxs("div",{className:"alert alert-danger",children:["Error loading delivery note: ",u.message]})}):s?e.jsxs(k,{children:[e.jsxs("div",{className:"card mb-5",children:[e.jsx("div",{className:"card-header",children:e.jsx("div",{className:"card-title",children:e.jsxs("h3",{className:"card-label",children:["Delivery Note #",s.delivery_note_no]})})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-6 col-md-12 mb-4 mb-lg-0",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Delivery Note No:"})," ",s.delivery_note_no]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Delivery Date:"})," ",F(s.delivery_note_date)]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Type:"})," ",s.delivery_note_type]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Vendor:"})," ",((a=s.vendor)==null?void 0:a.name)||"-"]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Destination:"})," ",s.destination]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Status:"})," ",s.status?e.jsx(z,{status:s.status.toLowerCase()}):"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Notes:"})," ",s.notes||"-"]})]})]})})]}),e.jsxs("div",{className:"card mb-5",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Vendor Information"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-6 col-md-12 mb-4 mb-lg-0",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Name:"})," ",((m=s.vendor)==null?void 0:m.name)||"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Contact Person:"})," ",((t=s.vendor)==null?void 0:t.contact_person)||"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Phone:"})," ",((n=s.vendor)==null?void 0:n.phone)||"-"]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Email:"})," ",((o=s.vendor)==null?void 0:o.email)||"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Address:"})," ",((r=s.vendor)==null?void 0:r.address)||"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"City:"})," ",s.vendor?`${s.vendor.city}, ${s.vendor.province}, ${s.vendor.country}`:"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Zip Code:"})," ",((l=s.vendor)==null?void 0:l.zip_code)||"-"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Tax Number:"})," ",((x=s.vendor)==null?void 0:x.tax_number)||"-"]})]})]})})]}),s.details&&s.details.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Delivery Details"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"d-block",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-125px",children:"SPK Detail ID"}),e.jsx("th",{className:"min-w-100px",children:"Item Type"}),e.jsx("th",{className:"min-w-100px",children:"Product Variant ID"}),e.jsx("th",{className:"min-w-100px",children:"Material ID"}),e.jsx("th",{className:"min-w-80px",children:"Qty Out"}),e.jsx("th",{className:"min-w-80px",children:"Qty In"}),e.jsx("th",{className:"min-w-100px",children:"Labor Cost"}),e.jsx("th",{className:"min-w-100px",children:"Status"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:s.details.map((i,N)=>e.jsxs("tr",{children:[e.jsx("td",{children:i.spk_detail_id}),e.jsx("td",{children:i.item_type}),e.jsx("td",{children:i.product_variant_id||"-"}),e.jsx("td",{children:i.material_id||"-"}),e.jsx("td",{children:i.qty_out}),e.jsx("td",{children:i.qty_in}),e.jsx("td",{children:B(i.labor_cost)}),e.jsx("td",{children:i.status?e.jsx(z,{status:i.status.toLowerCase()}):"-"})]},i.id||N))})]})})})})]}),s.spk&&s.spk.length>0&&e.jsxs("div",{className:"card mt-5",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Related SPK Information"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"d-block",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-175px",children:"SPK No"}),e.jsx("th",{className:"min-w-150px",children:"Buyer"}),e.jsx("th",{className:"min-w-125px",children:"SPK Date"}),e.jsx("th",{className:"min-w-125px",children:"Deadline"}),e.jsx("th",{className:"min-w-125px",children:"Status"}),e.jsx("th",{className:"min-w-200px",children:"Notes"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:s.spk.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:i.spk_no}),e.jsx("td",{children:i.buyer}),e.jsx("td",{children:F(i.spk_date)}),e.jsx("td",{children:F(i.deadline)}),e.jsx("td",{children:i.status?e.jsx(z,{status:i.status.toLowerCase()}):"-"}),e.jsx("td",{children:i.notes||"-"})]},i.id))})]})})})})]}),s.spk_details&&s.spk_details.length>0&&e.jsxs("div",{className:"card mt-5",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:["SPK Details - ",s.delivery_note_type.replace(/_/g," ")]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"d-block",children:e.jsxs("div",{className:"table-responsive",children:["deliveryNote.delivery_note_type, deliveryNote.spk_details",e.jsx(Ve,{type:s.delivery_note_type,spkDetails:s.spk_details})]})})})]})]}):e.jsx(k,{children:e.jsx("div",{className:"alert alert-warning",children:"Delivery note not found."})}):e.jsx(k,{children:e.jsx("div",{className:"alert alert-warning",children:"Delivery note ID is required."})})},Ye=[{title:"Surat Jalan",path:"/production/surat-jalan",isSeparator:!1,isActive:!1}],Ze=()=>{const{id:d}=pe();return e.jsxs(e.Fragment,{children:[e.jsx(T,{breadcrumbs:Ye,children:"Delivery Note Detail"}),e.jsx(We,{deliveryNoteId:d})]})},Xe=()=>e.jsx(me,{children:e.jsxs(I,{element:e.jsx(e.Fragment,{children:e.jsx(ye,{})}),children:[e.jsx(I,{path:"detail/:id",element:e.jsx(Ze,{})}),e.jsx(I,{index:!0,element:e.jsx(ue,{to:"/production/surat-jalan"})})]})}),D=[{title:"Produksi > ",path:"/production/",isSeparator:!1,isActive:!1}],mt=()=>e.jsx(me,{children:e.jsxs(I,{element:e.jsx(ye,{}),children:[e.jsx(I,{path:"surat-jalan",element:e.jsxs(e.Fragment,{children:[e.jsx(T,{breadcrumbs:D,children:"Surat Jalan"}),e.jsx(Le,{})]})}),e.jsx(I,{path:"add-surat-jalan",element:e.jsxs(e.Fragment,{children:[e.jsx(T,{breadcrumbs:D,children:"Add Surat Jalan"}),e.jsx(Fe,{})]})}),e.jsx(I,{path:"edit-surat-jalan/:id",element:e.jsxs(e.Fragment,{children:[e.jsx(T,{breadcrumbs:D,children:"Update Surat Jalan"}),e.jsx(De,{})]})}),e.jsx(I,{path:"delivery-note-detail/*",element:e.jsx(Xe,{})}),e.jsx(I,{index:!0,element:e.jsx(ue,{to:"/production/dashboard"})})]})});export{mt as default};
