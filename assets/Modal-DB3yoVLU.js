import{c as h,u as j,a as ze}from"./ThemeProvider-DRjQDZAD.js";import{c as pe,o as Oe,s as _,u as Se,a as Xe,b as Ye,d as H,r as we,l as Me,e as Ce,i as qe,h as Je,f as ge,g as Qe,j as Ze,k as be,F as Be,m as Pe,t as et}from"./hasClass-BOwTM1yB.js";import{r as a,j as d,ak as ue,al as tt}from"./index-ByLk8s-j.js";import{d as nt,q as S,a as ot}from"./DataKey-jIVlRIQi.js";function st(t){const e=a.useRef(null);return a.useEffect(()=>{e.current=t}),e.current}const at={"aria-label":ue.string,onClick:ue.func,variant:ue.oneOf(["white"])},Ee=a.forwardRef(({className:t,variant:e,"aria-label":n="Close",...o},s)=>d.jsx("button",{ref:s,type:"button",className:h("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...o}));Ee.displayName="CloseButton";Ee.propTypes=at;var P;function Ne(t){if((!P&&P!==0||t)&&pe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),P=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return P}function rt(){return a.useState(null)}function fe(t){t===void 0&&(t=Oe());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function it(t){const e=a.useRef(t);return e.current=t,e}function lt(t){const e=it(t);a.useEffect(()=>()=>e.current(),[])}function dt(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ke=nt("modal-open");class ye{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return dt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[o]:s.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(_(s,o)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(ke,""),_(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ke),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ct=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ut(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}let he;function ft(t){return he||(he=new ye({ownerDocument:t==null?void 0:t.document})),he}function ht(t){const e=Se(),n=t||ft(e),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:a.useCallback(s=>{o.current.dialog=s},[]),setBackdropRef:a.useCallback(s=>{o.current.backdrop=s},[])})}const je=a.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:s,style:l,children:E,backdrop:f=!0,keyboard:y=!0,onBackdropClick:T,onEscapeKeyDown:m,transition:A,runTransition:v,backdropTransition:w,runBackdropTransition:ee,autoFocus:U=!0,enforceFocus:te=!0,restoreFocus:M=!0,restoreFocusOptions:ne,renderDialog:K,renderBackdrop:oe=i=>d.jsx("div",Object.assign({},i)),manager:se,container:ae,onShow:G,onHide:D=()=>{},onExit:re,onExited:L,onExiting:V,onEnter:z,onEntering:X,onEntered:Y}=t,ie=ut(t,ct);const g=Se(),C=Xe(ae),c=ht(se),le=Ye(),q=st(n),[R,b]=a.useState(!n),u=a.useRef(null);a.useImperativeHandle(e,()=>c,[c]),pe&&!q&&n&&(u.current=fe(g==null?void 0:g.document)),n&&R&&b(!1);const p=H(()=>{if(c.add(),N.current=Me(document,"keydown",ce),W.current=Me(document,"focus",()=>setTimeout(de),!0),G&&G(),U){var i,Z;const $=fe((i=(Z=c.dialog)==null?void 0:Z.ownerDocument)!=null?i:g==null?void 0:g.document);c.dialog&&$&&!Ce(c.dialog,$)&&(u.current=$,c.dialog.focus())}}),F=H(()=>{if(c.remove(),N.current==null||N.current(),W.current==null||W.current(),M){var i;(i=u.current)==null||i.focus==null||i.focus(ne),u.current=null}});a.useEffect(()=>{!n||!C||p()},[n,C,p]),a.useEffect(()=>{R&&F()},[R,F]),lt(()=>{F()});const de=H(()=>{if(!te||!le()||!c.isTopModal())return;const i=fe(g==null?void 0:g.document);c.dialog&&i&&!Ce(c.dialog,i)&&c.dialog.focus()}),J=H(i=>{i.target===i.currentTarget&&(T==null||T(i),f===!0&&D())}),ce=H(i=>{y&&qe(i)&&c.isTopModal()&&(m==null||m(i),i.defaultPrevented||D())}),W=a.useRef(),N=a.useRef(),Q=(...i)=>{b(!0),L==null||L(...i)};if(!C)return null;const k=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},ie,{style:l,className:s,tabIndex:-1});let I=K?K(k):d.jsx("div",Object.assign({},k,{children:a.cloneElement(E,{role:"document"})}));I=we(A,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:re,onExiting:V,onExited:Q,onEnter:z,onEntering:X,onEntered:Y,children:I});let x=null;return f&&(x=oe({ref:c.setBackdropRef,onClick:J}),x=we(w,ee,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:x})),d.jsx(d.Fragment,{children:tt.createPortal(d.jsxs(d.Fragment,{children:[x,I]}),C)})});je.displayName="Modal";const mt=Object.assign(je,{Manager:ye});function gt(t,e){t.classList?t.classList.add(e):Je(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function xe(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pt(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=xe(t.className,e):t.setAttribute("class",xe(t.className&&t.className.baseVal||"",e))}const B={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Et extends ye{adjustAndStore(e,n,o){const s=n.style[e];n.dataset[e]=s,_(n,{[e]:`${parseFloat(_(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],_(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(gt(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";S(n,B.FIXED_CONTENT).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth)),S(n,B.STICKY_CONTENT).forEach(l=>this.adjustAndStore(s,l,-e.scrollBarWidth)),S(n,B.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();pt(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";S(n,B.FIXED_CONTENT).forEach(l=>this.restore(o,l)),S(n,B.STICKY_CONTENT).forEach(l=>this.restore(s,l)),S(n,B.NAVBAR_TOGGLER).forEach(l=>this.restore(s,l))}}let me;function yt(t){return me||(me=new Et(t)),me}const Ae=a.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},s)=>(e=j(e,"modal-body"),d.jsx(n,{ref:s,className:h(t,e),...o})));Ae.displayName="ModalBody";const De=a.createContext({onHide(){}}),ve=a.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:o,size:s,fullscreen:l,children:E,scrollable:f,...y},T)=>{t=j(t,"modal");const m=`${t}-dialog`,A=typeof l=="string"?`${t}-fullscreen-${l}`:`${t}-fullscreen`;return d.jsx("div",{...y,ref:T,className:h(m,e,s&&`${t}-${s}`,o&&`${m}-centered`,f&&`${m}-scrollable`,l&&A),children:d.jsx("div",{className:h(`${t}-content`,n),children:E})})});ve.displayName="ModalDialog";const Le=a.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},s)=>(e=j(e,"modal-footer"),d.jsx(n,{ref:s,className:h(t,e),...o})));Le.displayName="ModalFooter";const vt=a.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:s,...l},E)=>{const f=a.useContext(De),y=ge(()=>{f==null||f.onHide(),o==null||o()});return d.jsxs("div",{ref:E,...l,children:[s,n&&d.jsx(Ee,{"aria-label":t,variant:e,onClick:y})]})}),Fe=a.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...s},l)=>(t=j(t,"modal-header"),d.jsx(vt,{ref:l,...s,className:h(e,t),closeLabel:n,closeButton:o})));Fe.displayName="ModalHeader";const Rt=ot("h4"),We=a.forwardRef(({className:t,bsPrefix:e,as:n=Rt,...o},s)=>(e=j(e,"modal-title"),d.jsx(n,{ref:s,className:h(t,e),...o})));We.displayName="ModalTitle";function Tt(t){return d.jsx(Be,{...t,timeout:null})}function wt(t){return d.jsx(Be,{...t,timeout:null})}const Ie=a.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:o,contentClassName:s,children:l,dialogAs:E=ve,"data-bs-theme":f,"aria-labelledby":y,"aria-describedby":T,"aria-label":m,show:A=!1,animation:v=!0,backdrop:w=!0,keyboard:ee=!0,onEscapeKeyDown:U,onShow:te,onHide:M,container:ne,autoFocus:K=!0,enforceFocus:oe=!0,restoreFocus:se=!0,restoreFocusOptions:ae,onEntered:G,onExit:D,onExiting:re,onEnter:L,onEntering:V,onExited:z,backdropClassName:X,manager:Y,...ie},g)=>{const[C,c]=a.useState({}),[le,q]=a.useState(!1),R=a.useRef(!1),b=a.useRef(!1),u=a.useRef(null),[p,F]=rt(),de=Qe(g,F),J=ge(M),ce=ze();t=j(t,"modal");const W=a.useMemo(()=>({onHide:J}),[J]);function N(){return Y||yt({isRTL:ce})}function Q(r){if(!pe)return;const O=N().getScrollbarWidth()>0,Te=r.scrollHeight>Oe(r).documentElement.clientHeight;c({paddingRight:O&&!Te?Ne():void 0,paddingLeft:!O&&Te?Ne():void 0})}const k=ge(()=>{p&&Q(p.dialog)});Ze(()=>{be(window,"resize",k),u.current==null||u.current()});const I=()=>{R.current=!0},x=r=>{R.current&&p&&r.target===p.dialog&&(b.current=!0),R.current=!1},i=()=>{q(!0),u.current=et(p.dialog,()=>{q(!1)})},Z=r=>{r.target===r.currentTarget&&i()},$=r=>{if(w==="static"){Z(r);return}if(b.current||r.target!==r.currentTarget){b.current=!1;return}M==null||M()},$e=r=>{ee?U==null||U(r):(r.preventDefault(),w==="static"&&i())},He=(r,O)=>{r&&Q(r),L==null||L(r,O)},_e=r=>{u.current==null||u.current(),D==null||D(r)},Ue=(r,O)=>{V==null||V(r,O),Pe(window,"resize",k)},Ke=r=>{r&&(r.style.display=""),z==null||z(r),be(window,"resize",k)},Ge=a.useCallback(r=>d.jsx("div",{...r,className:h(`${t}-backdrop`,X,!v&&"show")}),[v,X,t]),Re={...n,...C};Re.display="block";const Ve=r=>d.jsx("div",{role:"dialog",...r,style:Re,className:h(e,t,le&&`${t}-static`,!v&&"show"),onClick:w?$:void 0,onMouseUp:x,"data-bs-theme":f,"aria-label":m,"aria-labelledby":y,"aria-describedby":T,children:d.jsx(E,{...ie,onMouseDown:I,className:o,contentClassName:s,children:l})});return d.jsx(De.Provider,{value:W,children:d.jsx(mt,{show:A,ref:de,backdrop:w,container:ne,keyboard:!0,autoFocus:K,enforceFocus:oe,restoreFocus:se,restoreFocusOptions:ae,onEscapeKeyDown:$e,onShow:te,onHide:M,onEnter:He,onEntering:Ue,onEntered:G,onExit:_e,onExiting:re,onExited:Ke,manager:N(),transition:v?Tt:void 0,backdropTransition:v?wt:void 0,renderBackdrop:Ge,renderDialog:Ve})})});Ie.displayName="Modal";const kt=Object.assign(Ie,{Body:Ae,Header:Fe,Title:We,Footer:Le,Dialog:ve,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{kt as M};
