import{u as g,a as l}from"./useMutation-WqzmH2dF.js";import{$ as i,Y as R,a0 as u,Z as o}from"./index-Bc4aE34f.js";const f=async()=>(await i.get("/role?start=0&length=100")).data.data,h=async a=>(await i.post("/role",a)).data.data,b=async(a,n)=>(await i.put(`/role/${a}`,n)).data.data,A=async a=>{await i.delete(`/role/${a}`)},$=()=>{const a=R(),{data:n=[],isLoading:c,error:d}=g({queryKey:["roles"],queryFn:f}),m=l({mutationFn:e=>h(e),onSuccess:()=>{a.invalidateQueries({queryKey:["roles"]}),o.success("Role berhasil ditambahkan")},onError:e=>{var r;const s=e instanceof u?(r=e.response)==null?void 0:r.data.message:`Gagal menambahkan role: ${e.message}`;Array.isArray(s)?s.forEach(t=>o.error(t)):o.error(s)}}),p=l({mutationFn:({id:e,role:s})=>b(e,s),onSuccess:()=>{a.invalidateQueries({queryKey:["roles"]}),o.success("Role berhasil diperbarui")},onError:e=>{var r;const s=e instanceof u?(r=e.response)==null?void 0:r.data.message:`Gagal memperbarui role: ${e.message}`;Array.isArray(s)?s.forEach(t=>o.error(t)):o.error(s)}}),y=l({mutationFn:A,onSuccess:()=>{a.invalidateQueries({queryKey:["roles"]}),o.success("Role berhasil dihapus")},onError:e=>{var r;const s=e instanceof u?(r=e.response)==null?void 0:r.data.message:`Gagal menghapus role: ${e.message}`;Array.isArray(s)?s.forEach(t=>o.error(t)):o.error(s)}});return{roles:n,isLoading:c,error:d,addRole:m.mutate,updateRole:p.mutate,deleteRole:y.mutate}};export{$ as u};
