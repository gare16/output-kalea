import{u as y,a as u}from"./useMutation-DVRIQfZo.js";import{$ as d,Y as m,a0 as i,Z as a}from"./index-C8bs7RZm.js";const p=async()=>(await d.get("/vendors?start=0&length=100")).data.data,v=async n=>(await d.post("/vendors",n)).data.data,f=async(n,o)=>(await d.put(`/vendors/${n}`,o)).data.data,V=async n=>{await d.delete(`/vendors/${n}`)},E=()=>{const n=m(),o=y({queryKey:["vendors"],queryFn:p}),c=u({mutationFn:e=>v(e),onSuccess:e=>{console.log("Add vendor success:",e),n.invalidateQueries({queryKey:["vendors"]}),a.success("Vendor added successfully")},onError:e=>{var r;const s=e instanceof i?(r=e.response)==null?void 0:r.data.message:`Gagal menambahkan vendor: ${e.message}`;Array.isArray(s)?s.forEach(t=>a.error(t)):a.error(s)}}),l=u({mutationFn:({id:e,vendor:s})=>f(e,s),onSuccess:e=>{console.log("Update vendor success:",e),n.invalidateQueries({queryKey:["vendors"]}),a.success("Vendor updated successfully")},onError:e=>{var r;const s=e instanceof i?(r=e.response)==null?void 0:r.data.message:`Gagal memperbaharui vendor: ${e.message}`;Array.isArray(s)?s.forEach(t=>a.error(t)):a.error(s)}}),g=u({mutationFn:V,onSuccess:()=>{console.log("Delete vendor success"),n.invalidateQueries({queryKey:["vendors"]}),a.success("Vendor deleted successfully")},onError:e=>{var r;const s=e instanceof i?(r=e.response)==null?void 0:r.data.message:`Gagal menghapus vendor: ${e.message}`;Array.isArray(s)?s.forEach(t=>a.error(t)):a.error(s)}});return{vendors:o.data||[],isLoading:o.isLoading,error:o.error,addVendor:c.mutate,updateVendor:l.mutate,deleteVendor:g.mutate,isAdding:c.isPending,isUpdating:l.isPending,isDeleting:g.isPending}};export{E as u};
