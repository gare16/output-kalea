import{r as o,j as e,K as j,a4 as y}from"./index-C8bs7RZm.js";import{u as w,c as R}from"./ThemeProvider-BoXIQX2b.js";const W=o.createContext(null);W.displayName="InputGroupContext";const q=o.createContext({}),M=o.forwardRef(({id:n,bsPrefix:a,className:c,type:u="checkbox",isValid:d=!1,isInvalid:i=!1,as:m="input",...t},N)=>{const{controlId:h}=o.useContext(q);return a=w(a,"form-check-input"),e.jsx(m,{...t,ref:N,type:u,id:n||h,className:R(c,a,d&&"is-valid",i&&"is-invalid")})});M.displayName="FormCheckInput";const k=o.forwardRef(({className:n,bsPrefix:a,as:c="span",...u},d)=>(a=w(a,"input-group-text"),e.jsx(c,{ref:d,className:R(n,a),...u})));k.displayName="InputGroupText";const z=n=>e.jsx(k,{children:e.jsx(M,{type:"checkbox",...n})}),B=n=>e.jsx(k,{children:e.jsx(M,{type:"radio",...n})}),A=o.forwardRef(({bsPrefix:n,size:a,hasValidation:c,className:u,as:d="div",...i},m)=>{n=w(n,"input-group");const t=o.useMemo(()=>({}),[]);return e.jsx(W.Provider,{value:t,children:e.jsx(d,{ref:m,...i,className:R(u,n,a&&`${n}-${a}`,c&&"has-validation")})})});A.displayName="InputGroup";const v=Object.assign(A,{Text:k,Radio:B,Checkbox:z}),J=({children:n,currentPage:a,totalPages:c,onPageChange:u,className:d=""})=>{const i=t=>{t>=1&&t<=c&&t!==a&&u(t)},m=()=>{const t=[];let h=Math.max(1,a-Math.floor(2.5)),p=Math.min(c,h+5-1);p-h+1<5&&(h=Math.max(1,p-5+1));for(let x=h;x<=p;x++)t.push(e.jsx("li",{className:`page-item ${x===a?"active":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:C=>{C.preventDefault(),i(x)},children:x})},x));return t};return e.jsxs("div",{className:`d-flex flex-stack flex-wrap pt-5 mx-10 ${d}`,children:[e.jsx("div",{className:"fs-6 fw-bold text-gray-700",children:n}),e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),i(a-1)},children:e.jsx("i",{className:"previous"})})}),m(),e.jsx("li",{className:`page-item ${a===c?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),i(a+1)},children:e.jsx("i",{className:"next"})})})]})]})},Y=({className:n,rows:a,columns:c,labelAdd:u,filters:d=[],onDelete:i,onEdit:m,onPrint:t,onAddClick:N,onRowClick:h,roleAccess:p={add:["ADMIN","OWNER","WAREHOUSE"],edit:["ADMIN","OWNER","WAREHOUSE"],print:["ADMIN","OWNER","ADMIN PRODUKSI"]}})=>{const[x,C]=o.useState(10),[T,g]=o.useState(1),[I,P]=o.useState(""),[O,V]=o.useState(""),[G,D]=o.useState({}),b=a.filter(s=>{const r=!I||Object.values(s).some(f=>String(f).toLowerCase().includes(I.toLowerCase())),l=d.every(f=>{const F=G[f.key];return!F||String(s[f.key])===F});return r&&l}),E=Math.ceil(b.length/x),S=(T-1)*x,$=S+x,K=b.slice(S,$),U=d.reduce((s,r)=>(s[r.key]=r.options||Array.from(new Set(a.map(l=>String(l[r.key])))),s),{}),H=s=>{g(s)},L=s=>{C(Number(s.target.value)),g(1)};return e.jsxs("div",{className:`card ${n}`,children:[e.jsxs("div",{className:"d-flex justify-content-center gap-3 mx-10 my-5",children:[e.jsxs(v,{size:"sm",children:[e.jsx(v.Text,{children:e.jsx(j,{iconName:"magnifier",className:"fs-3"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:O,onChange:s=>V(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(P(O),g(1))}}),I&&e.jsx("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>{V(""),P(""),g(1)},children:e.jsx(j,{iconName:"cross",className:"fs-3"})})]}),d.map(s=>e.jsxs(v,{size:"sm",style:{maxWidth:"300px"},children:[e.jsx(v.Text,{children:e.jsx(j,{iconName:"filter",className:"fs-3"})}),e.jsxs("select",{className:"form-select",value:G[s.key]||"",onChange:r=>{D(l=>({...l,[s.key]:r.target.value})),g(1)},children:[e.jsx("option",{value:"",children:s.label}),U[s.key].map(r=>e.jsx("option",{value:r,children:r},r))]})]},s.key))]}),e.jsx("div",{className:"border-0 mx-10",children:e.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex flex-row gap-4 justify-content-center align-items-center",children:["Show"," ",e.jsxs("select",{value:x,onChange:L,className:"form-select form-select-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})," ","entries"]}),e.jsx("div",{className:"text-end",children:e.jsx(y,{allowedRoles:p.add,children:N&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:N,children:[e.jsx(j,{iconName:"plus",className:"fs-2"}),"Add ",u]})})})]})}),e.jsxs("div",{className:"card-body py-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-row-gray-100 align-middle gs-0 gy-3 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[c.map(s=>e.jsx("th",{className:s.className||"min-w-120px",children:s.label},s.key)),(t||i||m&&p)&&e.jsx("th",{className:"min-w-100px",children:"Aksi"})]})}),e.jsx("tbody",{children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length+1,className:"text-center py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(j,{iconName:"search",className:"fs-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-muted fs-7 mb-0",children:"Try adjusting your search or filter criteria."})]})})}):K.map((s,r)=>e.jsxs("tr",{onClick:h?()=>h(s):void 0,className:h?"cursor-pointer":"",children:[c.map(l=>e.jsx("td",{children:e.jsx("span",{className:"text-gray-900 fw-bold fs-6",children:s[l.key]})},l.key)),e.jsxs("td",{children:[p.print&&e.jsx(y,{allowedRoles:p.print,children:t&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:l=>{l.stopPropagation(),t(s)},children:e.jsx(j,{iconName:"printer",className:"fs-3"})})}),e.jsx(y,{allowedRoles:p.edit,children:m&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:l=>{l.stopPropagation(),m==null||m(s)},children:e.jsx(j,{iconName:"pencil",className:"fs-3"})})}),e.jsx(y,{allowedRoles:p.edit,children:i&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",onClick:l=>{l.stopPropagation(),i==null||i(s)},children:e.jsx(j,{iconName:"trash",className:"fs-3"})})})]})]},r))})]})}),e.jsx(J,{currentPage:T,totalPages:E,onPageChange:H,children:e.jsxs("p",{children:["Showing ",S+1," - ",Math.min($,b.length)," of"," ",b.length," entries"]})})]})]})};export{q as F,v as I,Y as T,M as a};
