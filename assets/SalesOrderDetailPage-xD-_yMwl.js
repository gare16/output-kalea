import{r as h,j as e,C as S,K as p,a3 as y,g as f,i as b,k as R,N as k,O as q}from"./index-DtLKkDp-.js";import{M as m}from"./Modal-DRjAcmKK.js";import"./ThemeProvider-Buy5OdM_.js";import"./hasClass-GO2TYndl.js";const w=({show:c,onHide:n,items:a,onSubmit:j})=>{const[t,x]=h.useState(0),[r,i]=h.useState(1),[s,o]=h.useState(""),d=a.find(l=>l.id===t),u=d?d.qty-d.qtyReturned:0,N=l=>{l.preventDefault(),t&&r>0&&r<=u&&s&&(j({itemId:t,qty:r,reason:s}),x(0),i(1),o(""))},g=l=>{const v=parseInt(l.target.value);x(v),i(1)};return e.jsxs(m,{show:c,onHide:n,centered:!0,children:[e.jsx(m.Header,{closeButton:!0,children:e.jsx(m.Title,{children:"Return Item"})}),e.jsx(m.Body,{children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"itemSelect",className:"form-label",children:"Select Item to Return"}),e.jsxs("select",{className:"form-select",id:"itemSelect",value:t,onChange:g,required:!0,children:[e.jsx("option",{value:0,children:"Choose an item..."}),a.filter(l=>l.qty>l.qtyReturned).map(l=>e.jsxs("option",{value:l.id,children:[l.marketplaceSku," - ",l.productName," (Available: ",l.qty-l.qtyReturned,")"]},l.id))]})]}),t>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"returnQty",className:"form-label",children:["Return Quantity (Max: ",u,")"]}),e.jsx("input",{type:"number",className:"form-control",id:"returnQty",value:r,onChange:l=>i(parseInt(l.target.value)||1),min:1,max:u,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"reason",className:"form-label",children:"Reason for Return"}),e.jsxs("select",{className:"form-select",id:"reason",value:s,onChange:l=>o(l.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select reason..."}),e.jsx("option",{value:"defective",children:"Defective Product"}),e.jsx("option",{value:"wrong_item",children:"Wrong Item"}),e.jsx("option",{value:"customer_request",children:"Customer Request"}),e.jsx("option",{value:"damaged",children:"Damaged in Transit"}),e.jsx("option",{value:"other",children:"Other"})]})]})]})]})}),e.jsxs(m.Footer,{children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",onClick:N,disabled:!t||r<=0||r>u||!s,children:"Submit Return"})]})]})},C=()=>{const[c,n]=h.useState(!1),[a]=h.useState({id:1,orderNo:"SO001",channel:"Shopee",customerName:"John Doe",address:"Jl. Sudirman No. 123, Jakarta Pusat, DKI Jakarta 10230",phone:"+62 812-3456-7890",orderDate:"2024-01-15",totalAmount:15e4,status:"pending",trackingNumber:"",orderType:"Online",labelUrl:"https://example.com/label.pdf",items:[{id:1,marketplaceSku:"SKU001",productName:"Kaos Polos Hitam Size M",qty:2,price:5e4,total:1e5,qtyReturned:0},{id:2,marketplaceSku:"SKU002",productName:"Celana Jeans Biru Size 32",qty:1,price:5e4,total:5e4,qtyReturned:0}]}),j=s=>{const o={pending:{color:"secondary",label:"Pending"},picking:{color:"primary",label:"Picking"},shipped:{color:"warning",label:"Shipped"},completed:{color:"success",label:"Completed"},canceled:{color:"danger",label:"Canceled"}},d=o[s]||o.pending;return e.jsx("span",{className:`badge badge-light-${d.color} fs-7 fw-semibold`,children:d.label})},t=()=>{n(!0)},x=()=>{a.labelUrl&&window.open(a.labelUrl,"_blank")},r=()=>{alert("Order marked as shipped")},i=s=>{console.log("Return data:",s),n(!1),alert("Return request submitted")};return e.jsxs(S,{children:[e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-title",children:e.jsxs("h3",{className:"card-label",children:["Order #",a.orderNo]})}),e.jsxs("div",{className:"card-toolbar d-flex flex-wrap gap-2",children:[a.labelUrl&&e.jsxs("button",{type:"button",className:"btn btn-light-primary",onClick:x,children:[e.jsx(p,{iconName:"printer",className:"fs-2"}),e.jsx("span",{className:"d-none d-sm-inline ms-1",children:"Print Label"})]}),a.status==="picking"&&e.jsxs("button",{type:"button",className:"btn btn-success",onClick:r,children:[e.jsx(p,{iconName:"truck",className:"fs-2"}),e.jsx("span",{className:"d-none d-sm-inline ms-1",children:"Mark as Shipped"})]}),e.jsxs("button",{type:"button",className:"btn btn-warning",onClick:t,children:[e.jsx(p,{iconName:"arrow-left",className:"fs-2"}),e.jsx("span",{className:"d-none d-sm-inline ms-1",children:"Return Item"})]})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-6 col-md-12 mb-4 mb-lg-0",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Order No:"})," ",a.orderNo]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Channel:"})," ",a.channel]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Customer Name:"})," ",a.customerName]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Address:"})," ",a.address]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Phone:"})," ",a.phone]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Total Amount:"})," Rp ",a.totalAmount.toLocaleString()]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Status:"})," ",j(a.status)]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Order Date:"})," ",a.orderDate]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Order Items"})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"d-block d-md-none",children:a.items.map(s=>e.jsx("div",{className:"card mb-3",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title mb-2",children:s.productName}),e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Product SKU"}),e.jsx("div",{children:s.marketplaceSku})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Qty"}),e.jsx("div",{children:s.qty})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Price"}),e.jsxs("div",{children:["Rp ",s.price.toLocaleString()]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Total"}),e.jsxs("div",{children:["Rp ",s.total.toLocaleString()]})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("small",{className:"text-muted",children:"Qty Returned"}),e.jsx("div",{children:s.qtyReturned>0?s.qtyReturned:"-"})]})]})]})},s.id))}),e.jsx("div",{className:"d-none d-md-block",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-125px",children:"Product SKU"}),e.jsx("th",{className:"min-w-200px",children:"Product Name"}),e.jsx("th",{className:"min-w-80px",children:"Qty"}),e.jsx("th",{className:"min-w-100px",children:"Price"}),e.jsx("th",{className:"min-w-100px",children:"Total"}),e.jsx("th",{className:"min-w-100px",children:"Qty Returned"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:a.items.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.marketplaceSku}),e.jsx("td",{children:s.productName}),e.jsx("td",{children:s.qty}),e.jsxs("td",{children:["Rp ",s.price.toLocaleString()]}),e.jsxs("td",{children:["Rp ",s.total.toLocaleString()]}),e.jsx("td",{children:s.qtyReturned>0?s.qtyReturned:"-"})]},s.id))})]})})})]})]}),e.jsx(w,{show:c,onHide:()=>n(!1),items:a.items,onSubmit:i})]})},I=[{title:"Dashboard",path:"/dashboard",isSeparator:!1,isActive:!1},{title:"Sales",path:"/sales",isSeparator:!1,isActive:!1},{title:"Sales Order",path:"/sales-order/list",isSeparator:!1,isActive:!1}],A=()=>{const{id:c}=y();return e.jsx(f,{children:e.jsxs(b,{element:e.jsx(e.Fragment,{children:e.jsx(q,{})}),children:[e.jsx(b,{path:"detail/:id",element:e.jsxs(e.Fragment,{children:[e.jsx(R,{breadcrumbs:I,children:"Sales Order Detail"}),e.jsx(C,{orderId:c})]})}),e.jsx(b,{index:!0,element:e.jsx(k,{to:"/sales-order/list"})})]})})};export{A as default};
