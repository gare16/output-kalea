import{u as y,a as u}from"./useMutation-qdNYSY8E.js";import{$ as o,Y as M,a0 as l,a6 as t}from"./index-BXdnQbB_.js";const f=async()=>(await o.get("/materials?start=0&length=100")).data.data,h=async s=>(await o.post("/materials",s)).data.data,A=async(s,n)=>(await o.put(`/materials/${s}`,n)).data.data,b=async s=>{await o.delete(`/materials/${s}`)},$=()=>{const s=M(),{data:n=[],isLoading:c,error:g}=y({queryKey:["materials"],queryFn:f}),m=u({mutationFn:a=>h(a),onSuccess:()=>{s.invalidateQueries({queryKey:["materials"]}),t.success("Material berhasil ditambahkan")},onError:a=>{var r;const e=a instanceof l?(r=a.response)==null?void 0:r.data.message:`Gagal menambahkan material: ${a.message}`;Array.isArray(e)?e.forEach(i=>t.error(i)):t.error(e)}}),d=u({mutationFn:({id:a,material:e})=>A(a,e),onSuccess:()=>{s.invalidateQueries({queryKey:["materials"]}),t.success("Material berhasil diperbarui")},onError:a=>{var r;const e=a instanceof l?(r=a.response)==null?void 0:r.data.message:`Gagal memperbarui material: ${a.message}`;Array.isArray(e)?e.forEach(i=>t.error(i)):t.error(e)}}),p=u({mutationFn:b,onSuccess:()=>{s.invalidateQueries({queryKey:["materials"]}),t.success("Material berhasil dihapus")},onError:a=>{var r;const e=a instanceof l?(r=a.response)==null?void 0:r.data.message:`Gagal menghapus material: ${a.message}`;Array.isArray(e)?e.forEach(i=>t.error(i)):t.error(e)}});return{materials:n,isLoading:c,error:g,addMaterial:m.mutate,updateMaterial:d.mutate,deleteMaterial:p.mutate,isAdding:m.isPending,isUpdating:d.isPending,isDeleting:p.isPending}};export{$ as u};
