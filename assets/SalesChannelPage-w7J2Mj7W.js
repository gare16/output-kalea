import{r as d,j as e,C as U,K as p,g as P,i as N,k as A,N as E,O as F}from"./index-B54S5Xdh.js";import{M as u}from"./Modal-iaWj1Lk0.js";import"./ThemeProvider-DVLJd33k.js";import"./hasClass-CM2N8zXm.js";const K=({show:c,onHide:r,channel:t,onSave:o})=>{const[a,m]=d.useState({name:"",platformCode:"",apiKey:"",apiSecret:"",shopId:"",endpointUrl:"",status:!0});d.useEffect(()=>{m(t?{name:t.name,platformCode:t.platformCode,apiKey:"",apiSecret:"",shopId:t.shopId,endpointUrl:t.endpointUrl,status:t.status}:{name:"",platformCode:"",apiKey:"",apiSecret:"",shopId:"",endpointUrl:"",status:!0})},[t,c]);const l=i=>{const{name:f,value:h,type:x}=i.target;m({...a,[f]:x==="checkbox"?i.target.checked:h})},j=i=>{i.preventDefault(),o(a)};return e.jsxs(u,{show:c,onHide:r,centered:!0,children:[e.jsx(u.Header,{closeButton:!0,children:e.jsx(u.Title,{children:t?"Edit Channel":"Add Channel"})}),e.jsx(u.Body,{children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:a.name,onChange:l,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"platformCode",className:"form-label",children:"Platform Code"}),e.jsx("input",{type:"text",className:"form-control",id:"platformCode",name:"platformCode",value:a.platformCode,onChange:l,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"apiKey",className:"form-label",children:"API Key"}),e.jsx("input",{type:"text",className:"form-control",id:"apiKey",name:"apiKey",value:a.apiKey,onChange:l,required:!t})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"apiSecret",className:"form-label",children:"API Secret"}),e.jsx("input",{type:"text",className:"form-control",id:"apiSecret",name:"apiSecret",value:a.apiSecret,onChange:l,required:!t})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"shopId",className:"form-label",children:"Shop ID"}),e.jsx("input",{type:"text",className:"form-control",id:"shopId",name:"shopId",value:a.shopId,onChange:l,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"endpointUrl",className:"form-label",children:"Endpoint URL"}),e.jsx("input",{type:"url",className:"form-control",id:"endpointUrl",name:"endpointUrl",value:a.endpointUrl,onChange:l,required:!0})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"status",name:"status",checked:a.status,onChange:l}),e.jsx("label",{className:"form-check-label",htmlFor:"status",children:"Active"})]})})]})}),e.jsxs(u.Footer,{children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",onClick:j,children:t?"Update":"Add"})]})]})},L=()=>{const[c,r]=d.useState([{id:1,name:"Shopee Channel",platformCode:"SHOPEE",shopId:"123456",endpointUrl:"https://api.shopee.com/v2/shop/get_shop_info",status:!0},{id:2,name:"Tokopedia Channel",platformCode:"TOKOPEDIA",shopId:"789012",endpointUrl:"https://api.tokopedia.com/v1/shop/fs",status:!1}]),[t,o]=d.useState(!1),[a,m]=d.useState(null),[l,j]=d.useState(""),[i,f]=d.useState(1),h=10,x=c.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.platformCode.toLowerCase().includes(l.toLowerCase())||s.shopId.toLowerCase().includes(l.toLowerCase())),y=Math.ceil(x.length/h),b=(i-1)*h,v=x.slice(b,b+h),S=()=>{m(null),o(!0)},C=s=>{m(s),o(!0)},g=s=>{r(c.filter(n=>n.id!==s))},k=s=>{r(c.map(n=>n.id===s?{...n,status:!n.status}:n))},w=s=>{if(a)r(c.map(n=>n.id===a.id?{...n,...s}:n));else{const n={...s,id:Math.max(...c.map(I=>I.id))+1};r([...c,n])}o(!1)};return e.jsxs(U,{children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsxs("div",{className:"w-100 card-toolbar d-flex justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(p,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search channels",value:l,onChange:s=>j(s.target.value)})]}),e.jsx("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:S,children:[e.jsx(p,{iconName:"plus",className:"fs-2"}),"Add Channel"]})})]})}),e.jsxs("div",{className:"card-body py-4",children:[e.jsx("div",{className:"d-block d-md-none",children:v.map(s=>e.jsx("div",{className:"card mb-3",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:"card-title mb-1",children:s.name}),e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",checked:s.status,onChange:()=>k(s.id)}),e.jsx("label",{className:"form-check-label ms-2",children:s.status?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Platform Code"}),e.jsx("div",{children:s.platformCode})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:"Shop ID"}),e.jsx("div",{children:s.shopId})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("small",{className:"text-muted",children:"Endpoint URL"}),e.jsx("div",{className:"text-truncate",title:s.endpointUrl,children:s.endpointUrl})]})]}),e.jsxs("div",{className:"d-flex justify-content-end mt-3 gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-light-primary",onClick:()=>C(s),children:e.jsx(p,{iconName:"pencil",className:"fs-3"})}),e.jsx("button",{className:"btn btn-sm btn-light-danger",onClick:()=>g(s.id),children:e.jsx(p,{iconName:"trash",className:"fs-3"})})]})]})},s.id))}),e.jsx("div",{className:"d-none d-md-block",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",id:"kt_table_channels",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"w-10px pe-2",children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:e.jsx("input",{className:"form-check-input",type:"checkbox","data-kt-check":"true","data-kt-check-target":"#kt_table_channels .form-check-input",value:"1"})})}),e.jsx("th",{className:"min-w-125px",children:"Name"}),e.jsx("th",{className:"min-w-125px",children:"Platform Code"}),e.jsx("th",{className:"min-w-125px",children:"Shop ID"}),e.jsx("th",{className:"min-w-125px",children:"Endpoint URL"}),e.jsx("th",{className:"min-w-125px",children:"Status"}),e.jsx("th",{className:"text-end min-w-100px",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-600 fw-semibold",children:v.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:e.jsx("input",{className:"form-check-input",type:"checkbox",value:"1"})})}),e.jsx("td",{className:"d-flex align-items-center",children:e.jsx("div",{className:"d-flex justify-content-start flex-column",children:e.jsx("a",{href:"#",className:"text-gray-900 fw-bold text-hover-primary fs-6",children:s.name})})}),e.jsx("td",{children:s.platformCode}),e.jsx("td",{children:s.shopId}),e.jsx("td",{children:e.jsx("span",{className:"text-muted fs-7",children:s.endpointUrl})}),e.jsx("td",{children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",checked:s.status,onChange:()=>k(s.id)}),e.jsx("label",{className:"form-check-label ms-2",children:s.status?"Active":"Inactive"})]})}),e.jsxs("td",{className:"text-end",children:[e.jsx("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm",onClick:()=>C(s),children:e.jsx(p,{iconName:"pencil",className:"fs-2"})}),e.jsx("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm ms-2",onClick:()=>g(s.id),children:e.jsx(p,{iconName:"trash",className:"fs-2"})})]})]},s.id))})]})})})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"text-muted",children:["Showing ",b+1," to ",Math.min(b+h,x.length)," of ",x.length," entries"]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{className:"btn btn-sm btn-light-primary me-2",disabled:i===1,onClick:()=>f(i-1),children:"Previous"}),e.jsx("span",{className:"btn btn-sm btn-light-primary me-2",children:i}),e.jsx("button",{className:"btn btn-sm btn-light-primary",disabled:i===y,onClick:()=>f(i+1),children:"Next"})]})]})})]}),e.jsx(K,{show:t,onHide:()=>o(!1),channel:a,onSave:w})]})},D=[{title:"Dashboard",path:"/dashboard",isSeparator:!1,isActive:!1},{title:"Sales",path:"/sales",isSeparator:!1,isActive:!1}],_=()=>e.jsx(P,{children:e.jsxs(N,{element:e.jsx(e.Fragment,{children:e.jsx(F,{})}),children:[e.jsx(N,{path:"list",element:e.jsxs(e.Fragment,{children:[e.jsx(A,{breadcrumbs:D,children:"Sales Channel"}),e.jsx(L,{})]})}),e.jsx(N,{index:!0,element:e.jsx(E,{to:"/sales-channel/list"})})]})});export{_ as default};
