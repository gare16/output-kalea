import{u as i,a as n}from"./useMutation-Bl9g9XCm.js";import{$ as s,Y as l,Z as e}from"./index-DtLKkDp-.js";const y=async()=>(await s.get("/product-variants?start=0&length=5000")).data.data||[],v=async a=>(await s.get(`/product-variants/${a}`)).data.data,g=async a=>(await s.post("/product-variants",a)).data.data,P=async(a,r)=>(await s.put(`/product-variants/${a}`,r)).data.data,m=async a=>{await s.delete(`/product-variants/${a}`)},q=()=>{const a=l(),r=i({queryKey:["product-variants"],queryFn:y}),o=t=>i({queryKey:["product-variants",t],queryFn:()=>v(t),enabled:!!t}),u=n({mutationFn:t=>g(t),onSuccess:t=>{console.log("Add product variant success:",t),a.invalidateQueries({queryKey:["product-variants"]}),e.success("Product variant added successfully")},onError:t=>{console.error("Add product variant error:",t),e.error(t instanceof Error?t.message:"Failed to add product variant")}}),c=n({mutationFn:({id:t,productVariant:p})=>P(t,p),onSuccess:t=>{console.log("Update product variant success:",t),a.invalidateQueries({queryKey:["product-variants"]}),e.success("Product variant updated successfully")},onError:t=>{console.error("Update product variant error:",t),e.error(t instanceof Error?t.message:"Failed to update product variant")}}),d=n({mutationFn:m,onSuccess:()=>{console.log("Delete product variant success"),a.invalidateQueries({queryKey:["product-variants"]}),e.success("Product variant deleted successfully")},onError:t=>{console.error("Delete product variant error:",t),e.error(t instanceof Error?t.message:"Failed to delete product variant")}});return{productVariants:r.data||[],isLoading:r.isLoading,error:r.error,useProductVariantById:o,addProductVariant:u.mutate,updateProductVariant:c.mutate,deleteProductVariant:d.mutate,isAdding:u.isPending,isUpdating:c.isPending,isDeleting:d.isPending}};export{q as u};
