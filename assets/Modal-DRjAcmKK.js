import{c as f,u as B,a as ze}from"./ThemeProvider-Buy5OdM_.js";import{k as pe,o as Oe,m as H,n as Se,e as Xe,a as qe,b as _,r as we,l as Me,c as be,i as Ye,h as Je,g as ge,f as Qe,u as Ze,p as Ce,F as Ae,q as Pe,t as et}from"./hasClass-GO2TYndl.js";import{r as a,j as d,P as ue,R as tt}from"./index-DtLKkDp-.js";const nt=(t=>a.forwardRef((e,n)=>d.jsx("div",{...e,ref:n,className:f(e.className,t)})));function ot(t){const e=a.useRef(null);return a.useEffect(()=>{e.current=t}),e.current}const rt={"aria-label":ue.string,onClick:ue.func,variant:ue.oneOf(["white"])},ye=a.forwardRef(({className:t,variant:e,"aria-label":n="Close",...o},r)=>d.jsx("button",{ref:r,type:"button",className:f("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...o}));ye.displayName="CloseButton";ye.propTypes=rt;var at=Function.prototype.bind.call(Function.prototype.call,[].slice);function S(t,e){return at(t.querySelectorAll(e))}const st="data-rr-ui-";function it(t){return`${st}${t}`}var P;function Ne(t){if((!P&&P!==0||t)&&pe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),P=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return P}function lt(){return a.useState(null)}function fe(t){t===void 0&&(t=Oe());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function dt(t){const e=a.useRef(t);return e.current=t,e}function ct(t){const e=dt(t);a.useEffect(()=>()=>e.current(),[])}function ut(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ke=it("modal-open");class Ee{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return ut(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[o]:r.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(H(r,o)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ke,""),H(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ke),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ft=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ht(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}let he;function mt(t){return he||(he=new Ee({ownerDocument:t==null?void 0:t.document})),he}function gt(t){const e=Se(),n=t||mt(e),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:a.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:a.useCallback(r=>{o.current.backdrop=r},[])})}const Be=a.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:r,style:l,children:y,backdrop:h=!0,keyboard:E=!0,onBackdropClick:T,onEscapeKeyDown:m,transition:j,runTransition:v,backdropTransition:w,runBackdropTransition:ee,autoFocus:U=!0,enforceFocus:te=!0,restoreFocus:M=!0,restoreFocusOptions:ne,renderDialog:K,renderBackdrop:oe=i=>d.jsx("div",Object.assign({},i)),manager:re,container:ae,onShow:G,onHide:F=()=>{},onExit:se,onExited:D,onExiting:V,onEnter:z,onEntering:X,onEntered:q}=t,ie=ht(t,ft);const g=Se(),b=Xe(ae),c=gt(re),le=qe(),Y=ot(n),[R,C]=a.useState(!n),u=a.useRef(null);a.useImperativeHandle(e,()=>c,[c]),pe&&!Y&&n&&(u.current=fe(g==null?void 0:g.document)),n&&R&&C(!1);const p=_(()=>{if(c.add(),N.current=Me(document,"keydown",ce),I.current=Me(document,"focus",()=>setTimeout(de),!0),G&&G(),U){var i,Z;const $=fe((i=(Z=c.dialog)==null?void 0:Z.ownerDocument)!=null?i:g==null?void 0:g.document);c.dialog&&$&&!be(c.dialog,$)&&(u.current=$,c.dialog.focus())}}),L=_(()=>{if(c.remove(),N.current==null||N.current(),I.current==null||I.current(),M){var i;(i=u.current)==null||i.focus==null||i.focus(ne),u.current=null}});a.useEffect(()=>{!n||!b||p()},[n,b,p]),a.useEffect(()=>{R&&L()},[R,L]),ct(()=>{L()});const de=_(()=>{if(!te||!le()||!c.isTopModal())return;const i=fe(g==null?void 0:g.document);c.dialog&&i&&!be(c.dialog,i)&&c.dialog.focus()}),J=_(i=>{i.target===i.currentTarget&&(T==null||T(i),h===!0&&F())}),ce=_(i=>{E&&Ye(i)&&c.isTopModal()&&(m==null||m(i),i.defaultPrevented||F())}),I=a.useRef(),N=a.useRef(),Q=(...i)=>{C(!0),D==null||D(...i)};if(!b)return null;const k=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},ie,{style:l,className:r,tabIndex:-1});let W=K?K(k):d.jsx("div",Object.assign({},k,{children:a.cloneElement(y,{role:"document"})}));W=we(j,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:se,onExiting:V,onExited:Q,onEnter:z,onEntering:X,onEntered:q,children:W});let x=null;return h&&(x=oe({ref:c.setBackdropRef,onClick:J}),x=we(w,ee,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:x})),d.jsx(d.Fragment,{children:tt.createPortal(d.jsxs(d.Fragment,{children:[x,W]}),b)})});Be.displayName="Modal";const pt=Object.assign(Be,{Manager:Ee});function yt(t,e){t.classList?t.classList.add(e):Je(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function xe(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Et(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=xe(t.className,e):t.setAttribute("class",xe(t.className&&t.className.baseVal||"",e))}const A={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class vt extends Ee{adjustAndStore(e,n,o){const r=n.style[e];n.dataset[e]=r,H(n,{[e]:`${parseFloat(H(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],H(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(yt(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";S(n,A.FIXED_CONTENT).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth)),S(n,A.STICKY_CONTENT).forEach(l=>this.adjustAndStore(r,l,-e.scrollBarWidth)),S(n,A.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(r,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();Et(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";S(n,A.FIXED_CONTENT).forEach(l=>this.restore(o,l)),S(n,A.STICKY_CONTENT).forEach(l=>this.restore(r,l)),S(n,A.NAVBAR_TOGGLER).forEach(l=>this.restore(r,l))}}let me;function Rt(t){return me||(me=new vt(t)),me}const je=a.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=B(e,"modal-body"),d.jsx(n,{ref:r,className:f(t,e),...o})));je.displayName="ModalBody";const Fe=a.createContext({onHide(){}}),ve=a.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:o,size:r,fullscreen:l,children:y,scrollable:h,...E},T)=>{t=B(t,"modal");const m=`${t}-dialog`,j=typeof l=="string"?`${t}-fullscreen-${l}`:`${t}-fullscreen`;return d.jsx("div",{...E,ref:T,className:f(m,e,r&&`${t}-${r}`,o&&`${m}-centered`,h&&`${m}-scrollable`,l&&j),children:d.jsx("div",{className:f(`${t}-content`,n),children:y})})});ve.displayName="ModalDialog";const De=a.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=B(e,"modal-footer"),d.jsx(n,{ref:r,className:f(t,e),...o})));De.displayName="ModalFooter";const Tt=a.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:r,...l},y)=>{const h=a.useContext(Fe),E=ge(()=>{h==null||h.onHide(),o==null||o()});return d.jsxs("div",{ref:y,...l,children:[r,n&&d.jsx(ye,{"aria-label":t,variant:e,onClick:E})]})}),Le=a.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...r},l)=>(t=B(t,"modal-header"),d.jsx(Tt,{ref:l,...r,className:f(e,t),closeLabel:n,closeButton:o})));Le.displayName="ModalHeader";const wt=nt("h4"),Ie=a.forwardRef(({className:t,bsPrefix:e,as:n=wt,...o},r)=>(e=B(e,"modal-title"),d.jsx(n,{ref:r,className:f(t,e),...o})));Ie.displayName="ModalTitle";function Mt(t){return d.jsx(Ae,{...t,timeout:null})}function bt(t){return d.jsx(Ae,{...t,timeout:null})}const We=a.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:o,contentClassName:r,children:l,dialogAs:y=ve,"data-bs-theme":h,"aria-labelledby":E,"aria-describedby":T,"aria-label":m,show:j=!1,animation:v=!0,backdrop:w=!0,keyboard:ee=!0,onEscapeKeyDown:U,onShow:te,onHide:M,container:ne,autoFocus:K=!0,enforceFocus:oe=!0,restoreFocus:re=!0,restoreFocusOptions:ae,onEntered:G,onExit:F,onExiting:se,onEnter:D,onEntering:V,onExited:z,backdropClassName:X,manager:q,...ie},g)=>{const[b,c]=a.useState({}),[le,Y]=a.useState(!1),R=a.useRef(!1),C=a.useRef(!1),u=a.useRef(null),[p,L]=lt(),de=Qe(g,L),J=ge(M),ce=ze();t=B(t,"modal");const I=a.useMemo(()=>({onHide:J}),[J]);function N(){return q||Rt({isRTL:ce})}function Q(s){if(!pe)return;const O=N().getScrollbarWidth()>0,Te=s.scrollHeight>Oe(s).documentElement.clientHeight;c({paddingRight:O&&!Te?Ne():void 0,paddingLeft:!O&&Te?Ne():void 0})}const k=ge(()=>{p&&Q(p.dialog)});Ze(()=>{Ce(window,"resize",k),u.current==null||u.current()});const W=()=>{R.current=!0},x=s=>{R.current&&p&&s.target===p.dialog&&(C.current=!0),R.current=!1},i=()=>{Y(!0),u.current=et(p.dialog,()=>{Y(!1)})},Z=s=>{s.target===s.currentTarget&&i()},$=s=>{if(w==="static"){Z(s);return}if(C.current||s.target!==s.currentTarget){C.current=!1;return}M==null||M()},$e=s=>{ee?U==null||U(s):(s.preventDefault(),w==="static"&&i())},_e=(s,O)=>{s&&Q(s),D==null||D(s,O)},He=s=>{u.current==null||u.current(),F==null||F(s)},Ue=(s,O)=>{V==null||V(s,O),Pe(window,"resize",k)},Ke=s=>{s&&(s.style.display=""),z==null||z(s),Ce(window,"resize",k)},Ge=a.useCallback(s=>d.jsx("div",{...s,className:f(`${t}-backdrop`,X,!v&&"show")}),[v,X,t]),Re={...n,...b};Re.display="block";const Ve=s=>d.jsx("div",{role:"dialog",...s,style:Re,className:f(e,t,le&&`${t}-static`,!v&&"show"),onClick:w?$:void 0,onMouseUp:x,"data-bs-theme":h,"aria-label":m,"aria-labelledby":E,"aria-describedby":T,children:d.jsx(y,{...ie,onMouseDown:W,className:o,contentClassName:r,children:l})});return d.jsx(Fe.Provider,{value:I,children:d.jsx(pt,{show:j,ref:de,backdrop:w,container:ne,keyboard:!0,autoFocus:K,enforceFocus:oe,restoreFocus:re,restoreFocusOptions:ae,onEscapeKeyDown:$e,onShow:te,onHide:M,onEnter:_e,onEntering:Ue,onEntered:G,onExit:He,onExiting:se,onExited:Ke,manager:N(),transition:v?Mt:void 0,backdropTransition:v?bt:void 0,renderBackdrop:Ge,renderDialog:Ve})})});We.displayName="Modal";const xt=Object.assign(We,{Body:je,Header:Le,Title:Ie,Footer:De,Dialog:ve,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{xt as M};
