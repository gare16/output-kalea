import{r as d,j as e,K as u,a4 as v}from"./index-DtLKkDp-.js";import{u as R,c as w}from"./ThemeProvider-Buy5OdM_.js";const E=d.createContext(null);E.displayName="InputGroupContext";const z=d.createContext({}),M=d.forwardRef(({id:n,bsPrefix:a,className:r,type:h="checkbox",isValid:m=!1,isInvalid:o=!1,as:x="input",...t},b)=>{const{controlId:p}=d.useContext(z);return a=R(a,"form-check-input"),e.jsx(x,{...t,ref:b,type:h,id:n||p,className:w(r,a,m&&"is-valid",o&&"is-invalid")})});M.displayName="FormCheckInput";const C=d.forwardRef(({className:n,bsPrefix:a,as:r="span",...h},m)=>(a=R(a,"input-group-text"),e.jsx(r,{ref:m,className:w(n,a),...h})));C.displayName="InputGroupText";const B=n=>e.jsx(C,{children:e.jsx(M,{type:"checkbox",...n})}),J=n=>e.jsx(C,{children:e.jsx(M,{type:"radio",...n})}),F=d.forwardRef(({bsPrefix:n,size:a,hasValidation:r,className:h,as:m="div",...o},x)=>{n=R(n,"input-group");const t=d.useMemo(()=>({}),[]);return e.jsx(E.Provider,{value:t,children:e.jsx(m,{ref:x,...o,className:w(h,n,a&&`${n}-${a}`,r&&"has-validation")})})});F.displayName="InputGroup";const k=Object.assign(F,{Text:C,Radio:J,Checkbox:B}),Q=({children:n,currentPage:a,totalPages:r,onPageChange:h,className:m=""})=>{const o=t=>{t>=1&&t<=r&&t!==a&&h(t)},x=()=>{const t=[];let p=Math.max(1,a-Math.floor(2.5)),j=Math.min(r,p+5-1);j-p+1<5&&(p=Math.max(1,j-5+1));for(let l=p;l<=j;l++)t.push(e.jsx("li",{className:`page-item ${l===a?"active":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:N=>{N.preventDefault(),o(l)},children:l})},l));return t};return e.jsxs("div",{className:`d-flex flex-stack flex-wrap pt-5 mx-10 ${m}`,children:[e.jsx("div",{className:"fs-6 fw-bold text-gray-700",children:n}),e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),o(a-1)},children:e.jsx("i",{className:"previous"})})}),x(),e.jsx("li",{className:`page-item ${a===r?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),o(a+1)},children:e.jsx("i",{className:"next"})})})]})]})},Z=({className:n,rows:a,columns:r,labelAdd:h,filters:m=[],onDelete:o,onEdit:x,onPrint:t,onUpload:b,onAdd:p,onRowClick:j,roleAccess:l={add:["ADMIN","OWNER","WAREHOUSE"],edit:["ADMIN","OWNER","WAREHOUSE"],print:["ADMIN","OWNER","ADMIN PRODUKSI"],upload:["ADMIN","OWNER","WAREHOUSE"]}})=>{const[N,D]=d.useState(10),[O,f]=d.useState(1),[I,P]=d.useState(""),[T,$]=d.useState(""),[V,K]=d.useState({}),y=a.filter(s=>{const c=!I||Object.values(s).some(g=>String(g).toLowerCase().includes(I.toLowerCase())),i=m.every(g=>{const G=V[g.key];return!G||String(s[g.key])===G});return c&&i}),U=Math.ceil(y.length/N),S=(O-1)*N,W=S+N,A=y.slice(S,W),H=m.reduce((s,c)=>(s[c.key]=c.options||Array.from(new Set(a.map(i=>String(i[c.key])))),s),{}),L=s=>{f(s)},q=s=>{D(Number(s.target.value)),f(1)};return e.jsxs("div",{className:`card ${n}`,children:[e.jsxs("div",{className:"d-flex justify-content-center gap-3 mx-10 my-5",children:[e.jsxs(k,{size:"sm",children:[e.jsx(k.Text,{children:e.jsx(u,{iconName:"magnifier",className:"fs-3"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:T,onChange:s=>$(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(P(T),f(1))}}),I&&e.jsx("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>{$(""),P(""),f(1)},children:e.jsx(u,{iconName:"cross",className:"fs-3"})})]}),m.map(s=>e.jsxs(k,{size:"sm",style:{maxWidth:"300px"},children:[e.jsx(k.Text,{children:e.jsx(u,{iconName:"filter",className:"fs-3"})}),e.jsxs("select",{className:"form-select",value:V[s.key]||"",onChange:c=>{K(i=>({...i,[s.key]:c.target.value})),f(1)},children:[e.jsx("option",{value:"",children:s.label}),H[s.key].map(c=>e.jsx("option",{value:c,children:c},c))]})]},s.key))]}),e.jsx("div",{className:"border-0 mx-10",children:e.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex flex-row gap-4 justify-content-center align-items-center",children:["Show",e.jsxs("select",{value:N,onChange:q,className:"form-select form-select-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})," ","entries"]}),e.jsxs("div",{className:"d-flex text-end gap-2",children:[e.jsx(v,{allowedRoles:l.add,children:p&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:p,children:[e.jsx(u,{iconName:"plus",className:"fs-2"}),h]})}),l.upload&&e.jsx(v,{allowedRoles:l.upload,children:b&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:s=>{s.stopPropagation(),b()},children:[e.jsx(u,{iconName:"cloud-add",className:"fs-3"}),"Upload"]})})]})]})}),e.jsxs("div",{className:"card-body py-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-row-gray-100 align-middle gs-0 gy-3 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[r.map((s,c)=>e.jsx("th",{className:`${s.className||""} ${c>0?"d-none d-md-table-cell":""}`.trim(),children:s.label},s.key)),(t||o||x&&l)&&e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:r.length+1,className:"text-center py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(u,{iconName:"search",className:"fs-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-muted fs-7 mb-0",children:"Try adjusting your search or filter criteria."})]})})}):A.map((s,c)=>e.jsxs("tr",{onClick:j?()=>j(s):void 0,className:j?"cursor-pointer":"",children:[r.map((i,g)=>e.jsx("td",{className:g>0?"d-none d-md-table-cell":"",children:e.jsx("span",{className:"text-gray-900 fw-bold fs-6 text-truncate",children:s[i.key]})},i.key)),e.jsxs("td",{children:[l.print&&e.jsx(v,{allowedRoles:l.print,children:t&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:i=>{i.stopPropagation(),t(s)},children:e.jsx(u,{iconName:"printer",className:"fs-3"})})}),e.jsx(v,{allowedRoles:l.edit,children:x&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:i=>{i.stopPropagation(),x==null||x(s)},children:e.jsx(u,{iconName:"pencil",className:"fs-3"})})}),e.jsx(v,{allowedRoles:l.edit,children:o&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",onClick:i=>{i.stopPropagation(),o==null||o(s)},children:e.jsx(u,{iconName:"trash",className:"fs-3"})})})]})]},c))})]})}),e.jsx(Q,{currentPage:O,totalPages:U,onPageChange:L,children:e.jsxs("p",{children:["Showing ",S+1," - ",Math.min(W,y.length)," of"," ",y.length," entries"]})})]})]})};export{z as F,k as I,Z as T,M as a};
