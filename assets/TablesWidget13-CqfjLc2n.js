import{r as o,j as e,K as j,a4 as y}from"./index-BXdnQbB_.js";import{u as w,c as R}from"./ThemeProvider-BUhmALRu.js";const W=o.createContext(null);W.displayName="InputGroupContext";const q=o.createContext({}),M=o.forwardRef(({id:n,bsPrefix:a,className:c,type:p="checkbox",isValid:d=!1,isInvalid:r=!1,as:u="input",...t},b)=>{const{controlId:x}=o.useContext(q);return a=w(a,"form-check-input"),e.jsx(u,{...t,ref:b,type:p,id:n||x,className:R(c,a,d&&"is-valid",r&&"is-invalid")})});M.displayName="FormCheckInput";const k=o.forwardRef(({className:n,bsPrefix:a,as:c="span",...p},d)=>(a=w(a,"input-group-text"),e.jsx(c,{ref:d,className:R(n,a),...p})));k.displayName="InputGroupText";const z=n=>e.jsx(k,{children:e.jsx(M,{type:"checkbox",...n})}),B=n=>e.jsx(k,{children:e.jsx(M,{type:"radio",...n})}),E=o.forwardRef(({bsPrefix:n,size:a,hasValidation:c,className:p,as:d="div",...r},u)=>{n=w(n,"input-group");const t=o.useMemo(()=>({}),[]);return e.jsx(W.Provider,{value:t,children:e.jsx(d,{ref:u,...r,className:R(p,n,a&&`${n}-${a}`,c&&"has-validation")})})});E.displayName="InputGroup";const v=Object.assign(E,{Text:k,Radio:B,Checkbox:z}),J=({children:n,currentPage:a,totalPages:c,onPageChange:p,className:d=""})=>{const r=t=>{t>=1&&t<=c&&t!==a&&p(t)},u=()=>{const t=[];let x=Math.max(1,a-Math.floor(2.5)),h=Math.min(c,x+5-1);h-x+1<5&&(x=Math.max(1,h-5+1));for(let m=x;m<=h;m++)t.push(e.jsx("li",{className:`page-item ${m===a?"active":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:C=>{C.preventDefault(),r(m)},children:m})},m));return t};return e.jsxs("div",{className:`d-flex flex-stack flex-wrap pt-5 mx-10 ${d}`,children:[e.jsx("div",{className:"fs-6 fw-bold text-gray-700",children:n}),e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:`page-item ${a===1?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),r(a-1)},children:e.jsx("i",{className:"previous"})})}),u(),e.jsx("li",{className:`page-item ${a===c?"disabled":""}`,children:e.jsx("a",{href:"#",className:"page-link",onClick:t=>{t.preventDefault(),r(a+1)},children:e.jsx("i",{className:"next"})})})]})]})},Y=({className:n,rows:a,columns:c,labelAdd:p,filters:d=[],onDelete:r,onEdit:u,onPrint:t,onAddClick:b,onRowClick:x,roleAccess:h={add:["ADMIN","OWNER","WAREHOUSE"],edit:["ADMIN","OWNER","WAREHOUSE"],print:["ADMIN","OWNER","ADMIN PRODUKSI"]}})=>{const[m,C]=o.useState(10),[P,N]=o.useState(1),[I,T]=o.useState(""),[O,V]=o.useState(""),[G,A]=o.useState({}),g=a.filter(s=>{const i=!I||Object.values(s).some(f=>String(f).toLowerCase().includes(I.toLowerCase())),l=d.every(f=>{const F=G[f.key];return!F||String(s[f.key])===F});return i&&l}),D=Math.ceil(g.length/m),S=(P-1)*m,$=S+m,K=g.slice(S,$),U=d.reduce((s,i)=>(s[i.key]=i.options||Array.from(new Set(a.map(l=>String(l[i.key])))),s),{}),H=s=>{N(s)},L=s=>{C(Number(s.target.value)),N(1)};return e.jsxs("div",{className:`card ${n}`,children:[e.jsxs("div",{className:"d-flex justify-content-center gap-3 mx-10 my-5",children:[e.jsxs(v,{size:"sm",children:[e.jsx(v.Text,{children:e.jsx(j,{iconName:"magnifier",className:"fs-3"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:O,onChange:s=>V(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(T(O),N(1))}}),I&&e.jsx("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>{V(""),T(""),N(1)},children:e.jsx(j,{iconName:"cross",className:"fs-3"})})]}),d.map(s=>e.jsxs(v,{size:"sm",style:{maxWidth:"300px"},children:[e.jsx(v.Text,{children:e.jsx(j,{iconName:"filter",className:"fs-3"})}),e.jsxs("select",{className:"form-select",value:G[s.key]||"",onChange:i=>{A(l=>({...l,[s.key]:i.target.value})),N(1)},children:[e.jsx("option",{value:"",children:s.label}),U[s.key].map(i=>e.jsx("option",{value:i,children:i},i))]})]},s.key))]}),e.jsx("div",{className:"border-0 mx-10",children:e.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex flex-row gap-4 justify-content-center align-items-center",children:["Show"," ",e.jsxs("select",{value:m,onChange:L,className:"form-select form-select-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})," ","entries"]}),e.jsx("div",{className:"text-end",children:e.jsx(y,{allowedRoles:h.add,children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:b,children:[e.jsx(j,{iconName:"plus",className:"fs-2"}),"Add ",p]})})})]})}),e.jsxs("div",{className:"card-body py-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-row-gray-100 align-middle gs-0 gy-3 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[c.map(s=>e.jsx("th",{className:s.className||"min-w-120px",children:s.label},s.key)),h&&e.jsx("th",{className:"min-w-100px",children:"Aksi"})]})}),e.jsx("tbody",{children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length+1,className:"text-center py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(j,{iconName:"search",className:"fs-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-muted fs-7 mb-0",children:"Try adjusting your search or filter criteria."})]})})}):K.map((s,i)=>e.jsxs("tr",{onClick:x?()=>x(s):void 0,className:x?"cursor-pointer":"",children:[c.map(l=>e.jsx("td",{children:e.jsx("span",{className:"text-gray-900 fw-bold fs-6",children:s[l.key]})},l.key)),e.jsxs("td",{children:[h.print&&e.jsx(y,{allowedRoles:h.print,children:t&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:l=>{l.stopPropagation(),t(s)},children:e.jsx(j,{iconName:"printer",className:"fs-3"})})}),e.jsx(y,{allowedRoles:h.edit,children:e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:l=>{l.stopPropagation(),u==null||u(s)},children:e.jsx(j,{iconName:"pencil",className:"fs-3"})})}),e.jsx(y,{allowedRoles:h.edit,children:r&&e.jsx("a",{href:"#",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",onClick:l=>{l.stopPropagation(),r==null||r(s)},children:e.jsx(j,{iconName:"trash",className:"fs-3"})})})]})]},i))})]})}),e.jsx(J,{currentPage:P,totalPages:D,onPageChange:H,children:e.jsxs("p",{children:["Showing ",S+1," - ",Math.min($,g.length)," of"," ",g.length," entries"]})})]})]})};export{q as F,v as I,Y as T,M as a};
